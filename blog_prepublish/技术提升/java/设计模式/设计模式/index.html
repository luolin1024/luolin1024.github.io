<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>è®¾è®¡æ¨¡å¼ | luolin1024</title><meta name=keywords content="Java/è®¾è®¡æ¨¡å¼"><meta name=description content="Javaè®¾è®¡æ¨¡å¼æ¦‚è¿° è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿æ˜¯ç»è¿‡ç›¸å½“é•¿çš„"><meta name=author content="luolin"><link rel=canonical href=https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/><script defer src=https://blogcounter.luolin.us.kg/script.js data-website-id=c8850e2c-16aa-465e-aa6f-5392c9397317></script>
<script src=/js/umami-stats.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script>
<link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://luolin1024.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://luolin1024.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://luolin1024.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://luolin1024.github.io/apple-touch-icon.png><link rel=mask-icon href=https://luolin1024.github.io/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><html><head><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css><style>body{font-family:lxgw wenkai lite,sans-serif;font-family:lxgw wenkai screen,sans-serif}</style></head></html><meta property="og:title" content="è®¾è®¡æ¨¡å¼"><meta property="og:description" content="Javaè®¾è®¡æ¨¡å¼æ¦‚è¿° è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿æ˜¯ç»è¿‡ç›¸å½“é•¿çš„"><meta property="og:type" content="article"><meta property="og:url" content="https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><meta property="article:section" content="blog_prepublish"><meta property="article:published_time" content="2023-02-13T12:43:48+08:00"><meta property="article:modified_time" content="2024-05-20T13:32:09+08:00"><meta property="og:site_name" content="luolinçš„åšå®¢"><meta name=twitter:card content="summary"><meta name=twitter:title content="è®¾è®¡æ¨¡å¼"><meta name=twitter:description content="Javaè®¾è®¡æ¨¡å¼æ¦‚è¿° è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿æ˜¯ç»è¿‡ç›¸å½“é•¿çš„"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog_prepublishes","item":"https://luolin1024.github.io/blog_prepublish/"},{"@type":"ListItem","position":2,"name":"è®¾è®¡æ¨¡å¼","item":"https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"è®¾è®¡æ¨¡å¼","name":"è®¾è®¡æ¨¡å¼","description":"Javaè®¾è®¡æ¨¡å¼æ¦‚è¿° è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿æ˜¯ç»è¿‡ç›¸å½“é•¿çš„","keywords":["Java/è®¾è®¡æ¨¡å¼"],"articleBody":"Javaè®¾è®¡æ¨¡å¼æ¦‚è¿° è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿æ˜¯ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Ÿ ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯é æ€§ã€‚ åœ¨é¡¹ç›®ä¸­åˆç†åœ°è¿ç”¨è®¾è®¡æ¨¡å¼å¯ä»¥å®Œç¾åœ°è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œæ¯ç§æ¨¡å¼åœ¨ç°å®ä¸­éƒ½æœ‰ç›¸åº”çš„åŸç†æ¥ä¸ä¹‹å¯¹åº”ï¼Œæ¯ç§æ¨¡å¼éƒ½æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆã€‚ å¸¸è§çš„è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰å¤§ç±»ï¼šåˆ›å»ºå‹æ¨¡å¼ã€ç»“æ„å‹æ¨¡å¼å’Œè¡Œä¸ºå‹æ¨¡å¼ã€‚\nè®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™ 1ã€å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰\nå¼€é—­åŸåˆ™çš„æ„æ€æ˜¯ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚ç®€è¨€ä¹‹ï¼Œæ˜¯ä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ï¼Œåé¢çš„å…·ä½“è®¾è®¡ä¸­æˆ‘ä»¬ä¼šæåˆ°è¿™ç‚¹ã€‚\n2ã€é‡Œæ°ä»£æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰\né‡Œæ°ä»£æ¢åŸåˆ™æ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚ é‡Œæ°ä»£æ¢åŸåˆ™ä¸­è¯´ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚LSP æ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“æ´¾ç”Ÿç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œä¸”è½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œæ´¾ç”Ÿç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å¼€é—­åŸåˆ™çš„è¡¥å……ã€‚å®ç°å¼€é—­åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ï¼Œè€ŒåŸºç±»ä¸å­ç±»çš„ç»§æ‰¿å…³ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚\n3ã€ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰\nè¿™ä¸ªåŸåˆ™æ˜¯å¼€é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šé’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚\n4ã€æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰\nè¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯ï¼šä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£è¦å¥½ã€‚å®ƒè¿˜æœ‰å¦å¤–ä¸€ä¸ªæ„æ€æ˜¯ï¼šé™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ã€‚ç”±æ­¤å¯è§ï¼Œå…¶å®è®¾è®¡æ¨¡å¼å°±æ˜¯ä»å¤§å‹è½¯ä»¶æ¶æ„å‡ºå‘ã€ä¾¿äºå‡çº§å’Œç»´æŠ¤çš„è½¯ä»¶è®¾è®¡æ€æƒ³ï¼Œå®ƒå¼ºè°ƒé™ä½ä¾èµ–ï¼Œé™ä½è€¦åˆã€‚\n5ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼Œåˆç§°æœ€å°‘çŸ¥é“åŸåˆ™ï¼ˆDemeter Principleï¼‰\næœ€å°‘çŸ¥é“åŸåˆ™æ˜¯æŒ‡ï¼šä¸€ä¸ªå®ä½“åº”å½“å°½é‡å°‘åœ°ä¸å…¶ä»–å®ä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚\n6ã€åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰\nåˆæˆå¤ç”¨åŸåˆ™æ˜¯æŒ‡ï¼šå°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚\nåˆ›å»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰ åˆ›å»ºå‹æ¨¡å¼æä¾›äº†ä¸€ç§åœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶éšè—åˆ›å»ºé€»è¾‘çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ new è¿ç®—ç¬¦ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚è¿™ä½¿å¾—ç¨‹åºåœ¨åˆ¤æ–­é’ˆå¯¹æŸä¸ªç»™å®šå®ä¾‹éœ€è¦åˆ›å»ºå“ªäº›å¯¹è±¡æ—¶æ›´åŠ çµæ´»ã€‚\nå•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šéœ€è¦ç¡®ä¿æŸä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸”è‡ªè¡Œå®ä¾‹åŒ–å¹¶å‘æ•´ä¸ªç³»ç»Ÿæä¾›è¿™ä¸ªå®ä¾‹ã€‚ ç¤ºä¾‹ï¼šæ•°æ®åº“è¿æ¥æ± ã€é…ç½®æ–‡ä»¶è¯»å–ç±»ã€‚ å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Method Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†ç”±å­ç±»å†³å®šè¦å®ä¾‹åŒ–çš„ç±»æ˜¯å“ªä¸€ä¸ªã€‚å·¥å‚æ–¹æ³•ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚ ç¤ºä¾‹ï¼šæ—¥å¿—è®°å½•å™¨ã€è¯»å–ä¸åŒç±»å‹æ–‡ä»¶çš„è§£æå™¨ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–äº’ç›¸ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚ ç¤ºä¾‹ï¼šGUIå·¥å…·åŒ…ä¸­çš„æŒ‰é’®ã€æ–‡æœ¬æ¡†ã€èœå•ç­‰ã€‚ å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ ç¤ºä¾‹ï¼šæ„å»ºå¤æ‚å¯¹è±¡å¦‚æ–‡æ¡£ã€è®¡ç®—æœºç¡¬ä»¶é…ç½®ã€‚ åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ ç¤ºä¾‹ï¼šå¯¹è±¡å¤åˆ¶ã€éœ€è¦å¤§é‡ç›¸ä¼¼å¯¹è±¡çš„åˆ›å»ºã€‚ ç»“æ„å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰ ç»“æ„å‹æ¨¡å¼è®¾è®¡æ¨¡å¼å…³æ³¨ç±»å’Œå¯¹è±¡çš„ç»„åˆã€‚ç»§æ‰¿çš„æ¦‚å¿µè¢«ç”¨æ¥ç»„åˆæ¥å£å’Œå®šä¹‰ç»„åˆå¯¹è±¡è·å¾—æ–°åŠŸèƒ½çš„æ–¹å¼ã€‚\né€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚ ç¤ºä¾‹ï¼šæ—§ç³»ç»Ÿä¸æ–°ç³»ç»Ÿçš„é›†æˆã€‚ æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚ ç¤ºä¾‹ï¼šå›¾å½¢ç»˜åˆ¶ç¨‹åºä¸­çš„å½¢çŠ¶å’Œé¢œè‰²åˆ†ç¦»ã€‚ ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚ ç¤ºä¾‹ï¼šæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚ è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œå°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚ ç¤ºä¾‹ï¼šæµå¤„ç†ä¸­çš„BufferedReaderå’ŒBufferedWriterã€‚ å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œä½¿å¾—å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚ ç¤ºä¾‹ï¼šç®€åŒ–å¤æ‚ç³»ç»Ÿçš„æ¥å£ï¼Œå¦‚ç®€åŒ–çš„æ•°æ®åº“æ¥å£ã€‚ äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡çš„å¤ç”¨ã€‚ ç¤ºä¾‹ï¼šæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„å­—ç¬¦å¯¹è±¡ç®¡ç†ã€‚ ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ ç¤ºä¾‹ï¼šè™šæ‹Ÿä»£ç†ã€è¿œç¨‹ä»£ç†ã€ä¿æŠ¤ä»£ç†ã€‚ è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰ è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ç‰¹åˆ«å…³æ³¨å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ã€‚\nè´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šä¸ºè¯·æ±‚åˆ›å»ºä¸€ä¸ªæ¥æ”¶å¯¹è±¡çš„é“¾ï¼Œè¿™æ ·å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆã€‚ ç¤ºä¾‹ï¼šäº‹åŠ¡å¤„ç†ä¸­çš„å®¡æ‰¹æµç¨‹ã€‚ å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå°†è¯·æ±‚å°è£…æˆå¯¹è±¡ï¼Œä»è€Œä½¿ä½ å¯ä»¥ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼›å¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚ ç¤ºä¾‹ï¼šèœå•å‘½ä»¤ã€æ“ä½œæ—¥å¿—ã€æ’¤é”€æ“ä½œã€‚ è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šç»™å®šä¸€ç§è¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚ ç¤ºä¾‹ï¼šç¼–è¯‘å™¨ã€æ­£åˆ™è¡¨è¾¾å¼å¤„ç†ã€‚ è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šæä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²å…¶å†…éƒ¨çš„è¡¨ç¤ºã€‚ ç¤ºä¾‹ï¼šéå†é›†åˆå¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ã€æ ˆã€é˜Ÿåˆ—ç­‰ã€‚ ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡çš„äº¤äº’ï¼Œä½¿å¾—è¿™äº›å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å®ƒä»¬å¯ä»¥æ¾æ•£è€¦åˆã€‚ ç¤ºä¾‹ï¼šèŠå¤©å®¤ä¸­çš„æ¶ˆæ¯ä¼ é€’ã€‚ å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚ ç¤ºä¾‹ï¼šæ’¤é”€åŠŸèƒ½ã€å†å²è®°å½•ã€‚ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œä½¿å¾—æ¯å½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œåˆ™æ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚ ç¤ºä¾‹ï¼šäº‹ä»¶ç›‘å¬æœºåˆ¶ã€‚ çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå…è®¸å¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚ ç¤ºä¾‹ï¼šçŠ¶æ€æœºå®ç°ã€ç•Œé¢å¯¼èˆªã€‚ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯äº’ç›¸æ›¿æ¢ã€‚æœ¬æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·è€Œå˜åŒ–ã€‚ ç¤ºä¾‹ï¼šå„ç§æ’åºç®—æ³•ã€æ”¯ä»˜æ–¹å¼é€‰æ‹©ã€‚ æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡æ–°å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ ç¤ºä¾‹ï¼šæ•°æ®å¤„ç†ä¸­çš„æ ‡å‡†å¤„ç†æµç¨‹ã€‚ è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰\né€‚ç”¨åœºæ™¯ï¼šè¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚ ç¤ºä¾‹ï¼šå¯¹è±¡ç»“æ„å¦‚æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œç¼–è¯‘å™¨ä¸­çš„è¯­æ³•æ ‘ã€‚ åˆ›å»ºå‹æ¨¡å¼ å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰ é—®é¢˜èƒŒæ™¯ å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾ç‰©æµç®¡ç†åº”ç”¨ã€‚Â æœ€åˆç‰ˆæœ¬åªèƒ½å¤„ç†å¡è½¦è¿è¾“ï¼ŒÂ å› æ­¤å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨ä½äºåä¸ºÂ å¡è½¦çš„ç±»ä¸­ã€‚ä¸€æ®µæ—¶é—´åï¼ŒÂ è¿™æ¬¾åº”ç”¨å˜å¾—æå—æ¬¢è¿ï¼ŒåŒæ—¶Â ä½ æ¯å¤©éƒ½èƒ½æ”¶åˆ°åå‡ æ¬¡æ¥è‡ªæµ·è¿å…¬å¸çš„è¯·æ±‚ï¼ŒÂ å¸Œæœ›åº”ç”¨èƒ½å¤Ÿæ”¯æŒæµ·ä¸Šç‰©æµåŠŸèƒ½ã€‚ è¿™å¯æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚Â ä½†æ˜¯ä»£ç é—®é¢˜è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿç›®å‰ï¼ŒÂ å¤§éƒ¨åˆ†ä»£ç éƒ½ä¸Â å¡è½¦ç±»ç›¸å…³ã€‚Â åœ¨ç¨‹åºä¸­æ·»åŠ Â è½®èˆ¹ç±»éœ€è¦ä¿®æ”¹å…¨éƒ¨ä»£ç ã€‚Â æ›´ç³Ÿç³•çš„æ˜¯ï¼ŒÂ å¦‚æœä½ ä»¥åéœ€è¦åœ¨ç¨‹åºä¸­æ”¯æŒå¦å¤–ä¸€ç§è¿è¾“æ–¹å¼ï¼ŒÂ å¾ˆå¯èƒ½éœ€è¦å†æ¬¡å¯¹è¿™äº›ä»£ç è¿›è¡Œå¤§å¹…ä¿®æ”¹ã€‚ æœ€åï¼ŒÂ ä½ å°†ä¸å¾—ä¸ç¼–å†™ç¹å¤çš„ä»£ç ï¼ŒÂ æ ¹æ®ä¸åŒçš„è¿è¾“å¯¹è±¡ç±»ï¼ŒÂ åœ¨åº”ç”¨ä¸­è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚\nè§£å†³æ–¹æ¡ˆ å·¥å‚æ–¹æ³•æ¨¡å¼å»ºè®®ä½¿ç”¨ç‰¹æ®Šçš„_å·¥å‚_æ–¹æ³•ä»£æ›¿å¯¹äºå¯¹è±¡æ„é€ å‡½æ•°çš„ç›´æ¥è°ƒç”¨Â ï¼ˆå³ä½¿ç”¨Â newè¿ç®—ç¬¦ï¼‰ã€‚Â ä¸ç”¨æ‹…å¿ƒï¼ŒÂ å¯¹è±¡ä»å°†é€šè¿‡Â newè¿ç®—ç¬¦åˆ›å»ºï¼ŒÂ åªæ˜¯è¯¥è¿ç®—ç¬¦æ”¹åœ¨å·¥å‚æ–¹æ³•ä¸­è°ƒç”¨ç½¢äº†ã€‚Â å·¥å‚æ–¹æ³•è¿”å›çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä½œÂ â€œäº§å“â€ã€‚\nä¹çœ‹ä¹‹ä¸‹ï¼ŒÂ è¿™ç§æ›´æ”¹å¯èƒ½æ¯«æ— æ„ä¹‰ï¼šÂ æˆ‘ä»¬åªæ˜¯æ”¹å˜äº†ç¨‹åºä¸­è°ƒç”¨æ„é€ å‡½æ•°çš„ä½ç½®è€Œå·²ã€‚Â ä½†æ˜¯ï¼ŒÂ ä»”ç»†æƒ³ä¸€ä¸‹ï¼ŒÂ ç°åœ¨ä½ å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™å·¥å‚æ–¹æ³•ï¼ŒÂ ä»è€Œæ”¹å˜å…¶åˆ›å»ºäº§å“çš„ç±»å‹ã€‚ ä½†æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„:ä»…å½“è¿™äº›äº§å“å…·æœ‰å…±åŒçš„åŸºç±»æˆ–è€…æ¥å£æ—¶ï¼ŒÂ å­ç±»æ‰èƒ½è¿”å›ä¸åŒç±»å‹çš„äº§å“ï¼ŒÂ åŒæ—¶åŸºç±»ä¸­çš„å·¥å‚æ–¹æ³•è¿˜åº”å°†å…¶è¿”å›ç±»å‹å£°æ˜ä¸ºè¿™ä¸€å…±æœ‰æ¥å£ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼ŒÂ â€‹Â å¡è½¦Truckå’ŒÂ è½®èˆ¹Shipç±»éƒ½å¿…é¡»å®ç°Â è¿è¾“Transportæ¥å£ï¼ŒÂ è¯¥æ¥å£å£°æ˜äº†ä¸€ä¸ªåä¸ºÂ deliveräº¤ä»˜çš„æ–¹æ³•ã€‚Â æ¯ä¸ªç±»éƒ½å°†ä»¥ä¸åŒçš„æ–¹å¼å®ç°è¯¥æ–¹æ³•ï¼šÂ å¡è½¦èµ°é™†è·¯äº¤ä»˜è´§ç‰©ï¼ŒÂ è½®èˆ¹èµ°æµ·è·¯äº¤ä»˜è´§ç‰©ã€‚Â â€‹Â é™†è·¯è¿è¾“RoadÂ­Logisticsç±»ä¸­çš„å·¥å‚æ–¹æ³•è¿”å›å¡è½¦å¯¹è±¡ï¼ŒÂ è€ŒÂ æµ·è·¯è¿è¾“SeaÂ­Logisticsç±»åˆ™è¿”å›è½®èˆ¹å¯¹è±¡ã€‚\nå·¥å‚æ–¹æ³•æ¨¡å¼ä»£ç å®ç° // å·¥å‚æ–¹æ³•æ¨¡å¼ package com.lin.factorypattern; public class FactoryMethodTest { public static void main(String[] args) { // å‡è®¾æœ‰4ä¸ªè®¢å•,åˆ†åˆ«ä¸ºå¡è½¦è¿è¾“ã€å¡è½¦åŠ é€Ÿè¿è¾“ã€æµ·é™†è¿è¾“ã€æµ·é™†åŠ é€Ÿè¿è¾“ Factory factory = new TruckFactory(); factory.deliver(); Factory factory2 = new ShipFactory(); factory.deliver(); Factory factory3 = new TruckFactory(); factory.speedDeliver(); Factory factory4 = new ShipFactory(); factory.speedDeliver(); } } /** * é€šç”¨äº§å“æ¥å£ */ interface Transport{ void deliver(); void speedDeliver(); } /** * å…·ä½“äº§å“:Truck */ class Truck implements Transport{ @Override public void deliver() { System.out.println(\"åœ¨ç›’å­ä¸­ä»¥é™†è·¯è¿è¾“ã€‚\"); } @Override public void speedDeliver() { System.out.println(\"å¡è½¦åŠ é€Ÿ1å€è¿è¾“ã€‚\"); } } /** * å…·ä½“äº§å“:Ship */ class Ship implements Transport{ @Override public void deliver() { System.out.println(\"åœ¨é›†è£…ç®±ä¸­ä»¥æµ·è·¯è¿è¾“ã€‚\"); } @Override public void speedDeliver() { System.out.println(\"ship æ— æ³•åŠ é€Ÿã€‚ä»¥åŸé€Ÿåº¦è¿è¾“\"); } } /** * é€šç”¨åˆ›å»ºè€…ï¼ˆå·¥å‚ï¼‰ */ abstract class Factory{ public void deliver(){ Transport product = createProduct(); product.deliver(); } public void speedDeliver(){ Transport product = createProduct(); product.speedDeliver(); } protected abstract Transport createProduct(); } /** * å…·ä½“åˆ›å»ºè€…:Truck */ class TruckFactory extends Factory { @Override protected Transport createProduct() { return new Truck(); } } /** * å…·ä½“åˆ›å»ºè€…:Ship */ class ShipFactory extends Factory { @Override protected Transport createProduct() { return new Truck(); } } ç®€å•å·¥å‚ ç®€å•å·¥å‚æ¨¡å¼ æè¿°äº†ä¸€ä¸ªç±»ï¼Œ å®ƒæ‹¥æœ‰ä¸€ä¸ªåŒ…å«å¤§é‡æ¡ä»¶è¯­å¥çš„æ„å»ºæ–¹æ³•ï¼Œ å¯æ ¹æ®æ–¹æ³•çš„å‚æ•°æ¥é€‰æ‹©å¯¹ä½•ç§äº§å“è¿›è¡Œåˆå§‹åŒ–å¹¶å°†å…¶è¿”å›ã€‚ äººä»¬é€šå¸¸ä¼šå°†ç®€å•å·¥å‚ä¸æ™®é€šçš„å·¥å‚æˆ–å…¶å®ƒåˆ›å»ºå‹è®¾è®¡æ¨¡å¼æ··æ·†ã€‚ åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ ç®€å•å·¥å‚æ˜¯å¼•å…¥å·¥å‚æ–¹æ³•æˆ–æŠ½è±¡å·¥å‚æ¨¡å¼æ—¶çš„ä¸€ä¸ªä¸­é—´æ­¥éª¤ã€‚ ç®€å•å·¥å‚é€šå¸¸æ²¡æœ‰å­ç±»ã€‚ ä½†å½“ä»ä¸€ä¸ªç®€å•å·¥å‚ä¸­æŠ½å–å‡ºå­ç±»åï¼Œ å®ƒçœ‹ä¸Šå»å°±ä¼šæ›´åƒç»å…¸çš„å·¥å‚æ–¹æ³•æ¨¡å¼äº†ã€‚ é¡ºä¾¿æä¸€å¥ï¼Œ å¦‚æœä½ å°†ä¸€ä¸ªç®€å•å·¥å‚å£°æ˜ä¸º abstractç±»å‹ï¼Œ å®ƒå¹¶ä¸ä¼šç¥å¥‡åœ°å˜æˆæŠ½è±¡å·¥å‚æ¨¡å¼ã€‚\npublic class FactoryMethodTest { public static void main(String[] args) { new Application().getProduct(\"1\").method1(); /** * ProductA.method1 executed.. */ } } interface Product{ void method1(); } class ProductFactory{ static Product getProduct(String type){ if(\"1\".equals(type)){ return new ProductA(); } else { return new ProductB(); } } } class ProductA implements Product{ @Override public void method1(){ System.out.println(\"ProductA.method1 executed..\"); } } class ProductB implements Product{ @Override public void method1(){ System.out.println(\"ProductB.method1 executed..\"); } } class Application{ Product createProduct(String type){ return ProductFactory.getProduct(type); } Product getProduct(String type){ Product product = createProduct(type); // ä¸€ç³»åˆ—æ“ä½œå…±åŒçš„é¢„å¤„ç†æ“ä½œã€‚ã€‚ã€‚ return product; } } æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰ é—®é¢˜èƒŒæ™¯ è§£å†³æ–¹æ¡ˆ æŠ½è±¡å·¥å‚æ¨¡å¼ä»£ç å®ç° æœ¬æ–‡å€ŸåŠ©jdkä¸­å®ç°jdbcçš„åŸç†æ¥æè¿°æè¿°ä¸€ä¸‹æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œé¦–å…ˆå®šä¹‰ä¸¤ä¸ªæŠ½è±¡æ¥å£ï¼šè¿æ¥æ¥å£å’Œå‘½ä»¤æ¥å£ã€‚\ninterface IConnect{ void connect(); } interface ICommand{ void command(); } æ­¤æ—¶å†å®šä¹‰ä¸€ä¸ªæ•°æ®åº“æ“ä½œutilç”¨æ¥å¯¹æ•°æ®åº“è¿›è¡ŒæŠ½è±¡å¯¹æ•°æ®åº“è¿›è¡Œå¤„ç†ã€‚\ninterface IDatabaseUtils{ IConnect getConnect(); ICommand getCommand(); } æ­¤æ—¶å¦‚æœæˆ‘ä»¬ä½¿ç”¨mysqlä½œä¸ºæ•°æ®åº“ä½¿ç”¨ï¼Œé‚£ä¹ˆå…·ä½“å®ç°ä¸€ä¸‹æ•°æ®åº“è¿æ¥æ¥å£ã€æ•°æ®åº“å‘½ä»¤æ¥å£å’Œmysqlå·¥å…·ç±»ã€‚\nclass MysqlConnect implements IConnect{ @Override public void connect() { System.out.println(\"connect mysql ...\"); } } class MysqlCommand implements ICommand{ @Override public void command() { System.out.println(\"mysql command...\"); } } class MysqlUtils implements IDatabaseUtils{ @Override public IConnect getConnect() { return new MysqlConnect(); } @Override public ICommand getCommand() { return new MysqlCommand(); } } å‡å¦‚å°è£…åˆ°ä¸€ä¸ªjaråŒ…ä¸­ç»™æ‰€æœ‰äººä½¿ç”¨æ—¶ï¼Œç¼ºå°‘oracleå¤„ç†å·¥å…·ï¼Œæˆ‘ä»¬åªéœ€è¦å†å…·ä½“å®ç°ä¸€ä¸‹æ•°æ®åº“è¿æ¥æ¥å£ã€æ•°æ®åº“å‘½ä»¤æ¥å£å’Œoracleå·¥å…·ç±»ï¼Œè€Œä¸éœ€è¦å»åŠ¨åŸæœ‰ä»£ç \nclass OracleConnect implements IConnect{ @Override public void connect() { System.out.println(\"connect oracle ...\"); } } class OracleCommand implements ICommand{ @Override public void command() { System.out.println(\"oracle command...\"); } } class OracleUtils implements IDatabaseUtils{ @Override public IConnect getConnect() { return new OracleConnect(); } @Override public ICommand getCommand() { return new OracleCommand(); } } å¯¹äºä¸Šé¢çš„ç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ç§æ–¹å¼ç®€å•è°ƒç”¨ï¼Œé€šè¿‡IDatabaseUtilså¼•ç”¨è€Œä¸éœ€è¦å…³æ³¨è¢«è°ƒç”¨çš„å…·ä½“å®ç°ç»†èŠ‚\npublic class AbstractFactoryTest { public static void main(String[] args) { IDatabaseUtils iDatabaseUtils = new OracleUtils(); // ä¸å†éœ€è¦å…³æ³¨è¢«è°ƒç”¨çš„å…·ä½“ç»†èŠ‚ iDatabaseUtils.getConnect().connect(); iDatabaseUtils.getCommand().command(); } } æ€»ç»“ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼å°±æ˜¯ä¸€ç§ä¸ºè®¿é—®ç±»æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç»„ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œä¸”è®¿é—®ç±»æ— é¡»æŒ‡å®šæ‰€è¦äº§å“çš„å…·ä½“ç±»å°±èƒ½å¾—åˆ°åŒæ—çš„ä¸åŒç­‰çº§çš„äº§å“çš„æ¨¡å¼ç»“æ„ã€‚ä¼˜ç‚¹ï¼š1.å¯ä»¥åœ¨ç±»çš„å†…éƒ¨å¯¹äº§å“æ—ä¸­ç›¸å…³è”çš„å¤šç­‰çº§äº§å“å…±åŒç®¡ç†ï¼Œè€Œä¸å¿…ä¸“é—¨å¼•å…¥å¤šä¸ªæ–°çš„ç±»æ¥è¿›è¡Œç®¡ç†ï¼›2.å½“å¢åŠ ä¸€ä¸ªæ–°çš„äº§å“æ—æ—¶ä¸éœ€è¦ä¿®æ”¹åŸä»£ç ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™ã€‚\nå•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ class Product{ private String productName; private String part1; private String part2; public Product(String productName, String part1, String part2){ this.productName = productName; this.part1 = part1; this.part2 = part2; } static class Builder{ private String productName; private String part1; private String part2; public Builder productName(String productName) { this.productName = productName; return this; } public Builder part1(String part1) { this.part1 = part1; return this; } public Builder part2(String part2) { this.part2 = part2; return this; } public Product build(){ return new Product(this.productName, this.part1, this.part2); } } @Override public String toString() { return \"Product{\" + \"productName='\" + productName + '\\'' + \", part1='\" + part1 + '\\'' + \", part2='\" + part2 + '\\'' + '}'; } } åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰ /** * æ¨¡å‹å®šä¹‰ï¼š * æŒ‡åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ * * @date 2020/3/23 23:11 */ public class ProtoTypeTest { public static void main(String[] args) throws CloneNotSupportedException { Product product = new Product(\"part1\", \"part2\", \"part3\", \"part4\", new Part(\"xxx\")); Product clone = product.clone(); System.out.println(product); System.out.println(clone); System.out.println(\"---------------å¯¹éƒ¨åˆ†æ•°æ®è¿›è¡Œä¿®æ”¹----------------\"); clone.setPart1(\"part1A\"); clone.getPart().setName(\"YYY\"); System.out.println(product); System.out.println(clone); } } class Part implements Cloneable{ String name; @Override protected Part clone() throws CloneNotSupportedException { return (Part) super.clone(); } public Part(String name) { this.name = name; } public String getName() { return name; } public void setName(String name) { this.name = name; } @Override public String toString() { return \"Part{[\" + hashCode() + \"]\"+ \"name='\" + name + '\\'' + '}'; } } class Product implements Cloneable{ String part1; String part2; String part3; String part4; public Part getPart() { return part; } public void setPart(Part part) { this.part = part; } Part part; // ... public Product(String part1, String part2, String part3, String part4,Part part) { this.part1 = part1; this.part2 = part2; this.part3 = part3; this.part4 = part4; this.part = part; } @Override protected Product clone() throws CloneNotSupportedException { // è¿›è¡Œæ·±æ‹·è´ Product product = (Product) super.clone(); product.setPart(product.getPart().clone()); return product; } public String getPart1() { return part1; } public void setPart1(String part1) { this.part1 = part1; } public String getPart2() { return part2; } public void setPart2(String part2) { this.part2 = part2; } public String getPart3() { return part3; } public void setPart3(String part3) { this.part3 = part3; } public String getPart4() { return part4; } public void setPart4(String part4) { this.part4 = part4; } @Override public String toString() { return \"Product{[\" + hashCode() + \"]\"+ \"part1='\" + part1 + '\\'' + \", part2='\" + part2 + '\\'' + \", part3='\" + part3 + '\\'' + \", part4='\" + part4 + '\\'' + \", part=\" + part + '}'; } } ç»“æ„å‹æ¨¡å¼ é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰ æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰ è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰ ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰ /** * è£…é¥°è€…æ¨¡å¼ï¼šæ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½æˆ–ç»™ä¸€ä¸ªç±»é™„åŠ èŒè´£ * * ä¼˜ç‚¹ï¼š * åœ¨ä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„åŸºç¡€ä¸Šç»™ä¸€ä¸ªå¯¹è±¡æ‰©å±•åŠŸèƒ½ * ä½¿ç”¨ä¸åŒçš„ç»„åˆå¯ä»¥å®ç°ä¸åŒçš„æ•ˆæœ * ç¬¦åˆå¼€é—­åŸåˆ™ * * * @author lin.luo@hand-china.com * @date 2020/3/31 0:11 */ public class DecoratorTest { public static void main(String[] args) { Component component = new ConcreteComponent(); // component.operation(); // åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ·»åŠ åŠŸèƒ½ component = new ConcreteDecorator1(component); // component.operation(); component = new ConcreteDecorator2(component); component.operation(); } } interface Component{ void operation(); } class ConcreteComponent implements Component{ @Override public void operation() { System.out.println(\"æ‹ç…§\"); } } abstract class Decorator implements Component{ Component component; public Decorator(Component component) { this.component = component; } } class ConcreteDecorator1 extends Decorator{ public ConcreteDecorator1(Component component) { super(component); } @Override public void operation() { component.operation(); System.out.println(\"ç¾é¢œ\"); } } class ConcreteDecorator2 extends Decorator{ public ConcreteDecorator2(Component component) { super(component); } @Override public void operation() { component.operation(); System.out.println(\"æ»¤é•œ\"); } } äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ /** * äº«å…ƒæ¨¡å¼ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ * å€ŸåŠ©å…¨å±€å˜é‡å®Œæˆå¯¹å¯¹è±¡çš„å…±äº« * å¯¹äºå¤§é‡ç›¸åŒçš„å¯¹è±¡ï¼Œå¯ä»¥èŠ‚çœç³»ç»Ÿå†…å­˜ * * @date 2020/3/30 23:58 */ public class FlyWeightTest { public static void main(String[] args) { TreeNode treeNode1 = new TreeNode(3, 4, TreeFactory.getTree(\"A\", \"XXXX\")); TreeNode treeNode2 = new TreeNode(3, 4, TreeFactory.getTree(\"A\", \"XXXX\")); TreeNode treeNode3 = new TreeNode(3, 4, TreeFactory.getTree(\"B\", \"XXXX\")); } } class TreeFactory{ private static HashMap\u003cString, Tree\u003e map = new HashMap\u003c\u003e(); public static Tree getTree(String name, String data){ if(map.containsKey(name)){ return map.get(name); } Tree tree = new Tree(name, data); map.put(name, tree); return tree; } } class TreeNode{ private int x; private int y; private Tree tree; public TreeNode(int x, int y, Tree tree) { this.x = x; this.y = y; this.tree = tree; } } class Tree{ private String name; private String data; public Tree(String name, String data) { this.name = name; this.data = data; System.out.println(\"create tree\"+name); } public String getName() { return name; } public String getData() { return data; } } ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ é—¨é¢æ¨¡å¼ï¼ˆFacade Patternï¼‰ public class FacadeTest { public static void main(String[] args) { new Facade().facadeDoSomething(); } } class client{ } class Facade{ void facadeDoSomething(){ new SubSystem1().method1(); new SubSystem2().method2(); new SubSystem3().method3(); } } class SubSystem1{ public void method1(){ System.out.println(\"sub system1 method1\"); } } class SubSystem2{ public void method2(){ System.out.println(\"sub system2 method2\"); } } class SubSystem3{ public void method3(){ System.out.println(\"sub system3 method3\"); } } è¡Œä¸ºå‹æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ class Request{ private boolean loggedOn; private boolean frequentOk; private boolean isPermits; private boolean containsSensitiveWords; private String requestBody; public Request(boolean loggedOn, boolean frequentOk, boolean isPermits, boolean containsSensitiveWords, String requestBody) { this.loggedOn = loggedOn; this.frequentOk = frequentOk; this.isPermits = isPermits; this.containsSensitiveWords = containsSensitiveWords; this.requestBody = requestBody; } public boolean isLoggedOn() { return loggedOn; } public void setLoggedOn(boolean loggedOn) { this.loggedOn = loggedOn; } public boolean isFrequentOk() { return frequentOk; } public void setFrequentOk(boolean frequentOk) { this.frequentOk = frequentOk; } public boolean isPermits() { return isPermits; } public void setPermits(boolean permits) { isPermits = permits; } public boolean isContainsSensitiveWords() { return containsSensitiveWords; } public void setContainsSensitiveWords(boolean containsSensitiveWords) { this.containsSensitiveWords = containsSensitiveWords; } public String getRequestBody() { return requestBody; } public void setRequestBody(String requestBody) { this.requestBody = requestBody; } } abstract class Handler{ Handler next; public Handler(Handler next) { this.next = next; } public Handler getNext() { return next; } public void setNext(Handler next) { this.next = next; } abstract boolean process(Request request); } class FequentOkHandler extends Handler{ public FequentOkHandler(Handler next) { super(next); } @Override boolean process(Request request) { System.out.print(\"è®¿é—®é¢‘ç‡æ§åˆ¶:\"); if(request.isFrequentOk()){ System.out.println(\"ok\"); Handler next = getNext(); if(next == null){ return true; } if(!next.process(request)){ return false; } else { return true; } } System.out.println(\"error\"); return false; } } class IsPermitsHandler extends Handler{ public IsPermitsHandler(Handler next) { super(next); } @Override boolean process(Request request) { System.out.print(\"æƒé™è®¿é—®æ§åˆ¶:\"); if(request.isPermits()){ System.out.println(\"ok\"); Handler next = getNext(); if(next == null){ return true; } if(!next.process(request)){ return false; } else { return true; } } System.out.println(\"error\"); return false; } } class LoggedOnHandler extends Handler{ public LoggedOnHandler(Handler next) { super(next); } @Override boolean process(Request request) { System.out.print(\"ç™»å½•æƒé™æ§åˆ¶:\"); if(request.isLoggedOn()){ System.out.println(\"ok\"); Handler next = getNext(); if(next == null){ return true; } if(!next.process(request)){ return false; } else { return true; } } System.out.println(\"error\"); return false; } } class ContainsSensitiveWordsHandler extends Handler{ public ContainsSensitiveWordsHandler(Handler next) { super(next); } @Override boolean process(Request request) { System.out.print(\"æ•æ„Ÿè¯æƒé™æ§åˆ¶:\"); if(request.isContainsSensitiveWords()){ System.out.println(\"ok\"); Handler next = getNext(); if(next == null){ return true; } if(!next.process(request)){ return false; } else { return true; } } System.out.println(\"error\"); return false; } } public class ChainOfResponsibilityTest { public static void main(String[] args) { Request request = new Request(true, true, false, true, \"hha\"); Handler handler = new FequentOkHandler(new LoggedOnHandler(new ContainsSensitiveWordsHandler(new IsPermitsHandler(null)))); if(handler.process(request)){ System.out.println(\"å¼€å§‹è¿›è¡Œä¸šåŠ¡å¤„ç†\"); }else { System.out.println(\"è¯·æ±‚å¼‚å¸¸\"); } } } å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰ è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰ è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ è¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§ç”¨äºé¡ºåºè®¿é—®é›†åˆå¯¹è±¡çš„å…ƒç´ ï¼Œä½†æ˜¯ä¸éœ€è¦çŸ¥é“é›†åˆå¯¹è±¡çš„åº•å±‚è¡¨ç¤ºçš„æ¨¡å¼ã€‚ä¸»è¦ç›®çš„æ˜¯åœ¨ä¸æš´éœ²èšåˆå¯¹è±¡çš„å†…éƒ¨ç»“æ„çš„æƒ…å†µä¸‹ï¼Œè®©å¤–éƒ¨ä»£ç é€æ˜åœ°è®¿é—®èšåˆçš„å†…éƒ¨æ•°æ®ã€‚\nè¿­ä»£å™¨æ¨¡å¼ä¸»è¦åŒ…å«ä»¥ä¸‹è§’è‰²ã€‚\næŠ½è±¡èšåˆï¼ˆContainerï¼‰è§’è‰²ï¼šå®šä¹‰å­˜å‚¨ã€æ·»åŠ ã€åˆ é™¤èšåˆå¯¹è±¡ä»¥åŠåˆ›å»ºè¿­ä»£å™¨å¯¹è±¡çš„æ¥å£ã€‚ å…·ä½“èšåˆï¼ˆMyRepositoryï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡èšåˆç±»ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“è¿­ä»£å™¨çš„å®ä¾‹ã€‚ æŠ½è±¡è¿­ä»£å™¨ï¼ˆIteratorï¼‰è§’è‰²ï¼šå®šä¹‰è®¿é—®å’Œéå†èšåˆå…ƒç´ çš„æ¥å£ï¼Œé€šå¸¸åŒ…å« hasNext()ã€next() ç­‰æ–¹æ³•ã€‚ å…·ä½“è¿­ä»£å™¨ï¼ˆMyIteratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è¿­ä»£å™¨æ¥å£ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œå®Œæˆå¯¹èšåˆå¯¹è±¡çš„éå†ï¼Œè®°å½•éå†çš„å½“å‰ä½ç½®ã€‚ ç±»å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼› å…·ä½“å®ç°ä»£ç ï¼š\n/** * æ¥å£å®¹å™¨ */ public interface Container { Iterator getIterator(); } /** * æ¥å£è¿­ä»£å™¨ */ public interface Iterator { boolean hasNext(); Object next(); } /** * å…·ä½“å®¹å™¨ */ public class MyRepository implements Container { public Object arr[] = {\"a\", \"b\", \"c\"}; @Override public Iterator getIterator() { return new MyIterator(); } /** * å…·ä½“è¿­ä»£å™¨ */ private class MyIterator implements Iterator{ int index; @Override public boolean hasNext() { return index \u003c arr.length; } @Override public Object next() { if(this.hasNext()){ return arr[index++]; } return null; } } } /** * æµ‹è¯•ç±» */ public class IteratorTest { public static void main(String[] args) { Container container = new MyRepository(); Iterator iterator = container.getIterator(); while (iterator.hasNext()){ System.out.println(iterator.next()); } } } ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰ å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ package com.lin.observe_pattern; import java.util.ArrayList; import java.util.HashMap; import java.util.List; import java.util.Map; public class ObservePatternTest { public static void main(String[] args) { EventManager eventManager = new EventManager(\"A\", \"B\"); eventManager.subscribe(\"A\", new ListenerA()); eventManager.subscribe(\"A\", new ListenerB()); eventManager.subscribe(\"B\", new ListenerA()); eventManager.subscribe(\"B\", new ListenerB()); eventManager.notify(\"B\", \"æ”¹å˜ä¸–ç•Œ\"); } } class EventManager{ Map\u003cString, List\u003cEventListener\u003e\u003e listeners = new HashMap\u003c\u003e(); public EventManager(String... operations) { for (String operation : operations) { this.listeners.put(operation, new ArrayList\u003c\u003e()); } } public void subscribe(String eventType, EventListener listener) { List\u003cEventListener\u003e users = listeners.get(eventType); users.add(listener); } public void unsubscribe(String eventType, EventListener listener) { List\u003cEventListener\u003e users = listeners.get(eventType); users.remove(listener); } public void notify(String eventType, String msg) { List\u003cEventListener\u003e users = listeners.get(eventType); for (EventListener listener : users) { listener.comsumer(eventType, msg); } } } /** * é€šç”¨è§‚å¯Ÿè€…æ¥å£,å®šä¹‰comsumeræ–¹æ³•ï¼Œæ¶ˆè´¹é€šçŸ¥çš„æ¶ˆæ¯ */ interface EventListener{ void comsumer(String eventType, String msg); } class ListenerA implements EventListener{ @Override public void comsumer(String eventType, String msg) { System.out.println(\"ListenerAæ”¶åˆ°é€šçŸ¥:\"+eventType+\"-\"+msg+\",å‡†å¤‡xxx\"); } } class ListenerB implements EventListener{ @Override public void comsumer(String eventType, String msg) { System.out.println(\"ListenerBæ”¶åˆ°é€šçŸ¥:\"+eventType+\"-\"+msg+\",å‡†å¤‡yyy\"); } } çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ public class StrategyTest { public static void main(String[] args) { Animal dog = new Dog(); dog.move(); dog.setMoveable(new DogMove()); dog.move(); } } interface Moveable{ void move(); } interface Attackable{ void attack(); } class Runable implements Moveable{ @Override public void move() { System.out.println(\"------ run -----\"); } } class DogMove implements Moveable{ @Override public void move() { System.out.println(\"ç‹—æ‘‡ç€å°¾å·´ç§»åŠ¨\"); } } abstract class Animal{ Moveable moveable; Attackable attackable; public Animal() { } public Animal(Moveable moveable, Attackable attackable) { this.moveable = moveable; this.attackable = attackable; } abstract public void display(); abstract void move(); abstract void attack(); public Moveable getMoveable() { return moveable; } public void setMoveable(Moveable moveable) { this.moveable = moveable; } public Attackable getAttackable() { return attackable; } public void setAttackable(Attackable attackable) { this.attackable = attackable; } } class Dog extends Animal{ public Dog() { super(new Runable(), null); } public Dog(Moveable moveable, Attackable attackable) { super(moveable, attackable); } @Override public void display() { System.out.println(\"------ ç‹— ----------\"); } @Override void move() { moveable.move(); } @Override void attack() { attackable.attack(); } } æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„ç›®çš„å°±æ˜¯åœ¨ä¸æ”¹å˜ç°æœ‰ç±»çš„ç®—æ³•ç»“æ„ä¸‹ï¼Œå°†ä¸€äº›å…·ä½“æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œ\n/** * æ¨¡å¼å®šä¹‰ï¼š * å®šä¹‰ä¸€ä¸ªæ“ä½œçš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚ * Template Method ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ * * Servlet Api \u0026 Springä¸­çš„åº”ç”¨ * javax.servlet.http.HttpServlet * org.springframework.web.servlet.mvc.AbstractController * * @author 2493468168@qq.com * @date 2020/3/22 14:55 */ public class TemplateMethodTest { public static void main(String[] args) { AbstractClass abstractClass = new SubClass(); abstractClass.operate(); System.out.println(\"--------------\"); AbstractClass abstractClass2 = new SubClass2(); abstractClass2.operate(); /** * pre... * step1.. * templateMethod1() * step final... * -------------- * pre... * step1.. * templateMethod2() * step final... */ } } abstract class AbstractClass{ public void operate(){ System.out.println(\"pre...\"); System.out.println(\"step1..\"); templateMethod(); System.out.println(\"step final...\"); } abstract void templateMethod(); } class SubClass extends AbstractClass{ @Override void templateMethod() { System.out.println(\"templateMethod1()\"); } } class SubClass2 extends AbstractClass{ @Override void templateMethod() { System.out.println(\"templateMethod2()\"); } } è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ å‚è€ƒèµ„æ–™ï¼š è®¾è®¡æ¨¡å¼ç›®å½•ï¼š22ç§è®¾è®¡æ¨¡å¼ (refactoringguru.cn)\n","wordCount":"8606","inLanguage":"en","datePublished":"2023-02-13T12:43:48+08:00","dateModified":"2024-05-20T13:32:09+08:00","author":{"@type":"Person","name":"luolin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},"publisher":{"@type":"Organization","name":"luolin1024","logo":{"@type":"ImageObject","url":"https://luolin1024.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://luolin1024.github.io accesskey=h title="luolinçš„åšå®¢ (Alt + H)">luolinçš„åšå®¢</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://luolin1024.github.io/posts title=ğŸ“šæ–‡ç« ><span>ğŸ“šæ–‡ç« </span></a></li><li><a href=https://luolin1024.github.io/archives/ title=â±æ—¶é—´è½´><span>â±æ—¶é—´è½´</span></a></li><li><a href=https://luolin1024.github.io/search/ title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://luolin1024.github.io/tags title=ğŸ”–æ ‡ç­¾><span>ğŸ”–æ ‡ç­¾</span></a></li><li><a href=https://luolin1024.github.io/about title=ğŸ™‹ğŸ»â€â™‚ï¸å…³äº><span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span></a></li><li><a href=https://luolin1024.github.io/links title=ğŸ¤å‹é“¾><span>ğŸ¤å‹é“¾</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://luolin1024.github.io>Home</a>&nbsp;Â»&nbsp;<a href=https://luolin1024.github.io/blog_prepublish/>Blog_prepublishes</a></div><h1 class="post-title entry-hint-parent">è®¾è®¡æ¨¡å¼</h1><div class=post-meta><span title='2023-02-13 12:43:48 +0800 +0800'>2023-02-13</span>&nbsp;Â·&nbsp;18 min&nbsp;Â·&nbsp;8606 words&nbsp;Â·&nbsp;luolin
æœ¬æ–‡æ€»é˜…è¯»é‡ <span id=umami_value_page_pv></span> æ¬¡
æœ¬æ–‡æ€»è®¿å®¢é‡ <span id=umami_value_page_uv></span> äºº</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><ul><ul><li><a href=#java%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e6%a6%82%e8%bf%b0 aria-label=Javaè®¾è®¡æ¨¡å¼æ¦‚è¿°>Javaè®¾è®¡æ¨¡å¼æ¦‚è¿°</a></li></ul><li><a href=#%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e7%9a%84%e5%85%ad%e5%a4%a7%e5%8e%9f%e5%88%99 aria-label=è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™>è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™</a><ul><ul><li><a href=#%e5%88%9b%e5%bb%ba%e5%9e%8b%e6%a8%a1%e5%bc%8fcreational-patterns aria-label="åˆ›å»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰">åˆ›å»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰</a></li><li><a href=#%e7%bb%93%e6%9e%84%e5%9e%8b%e6%a8%a1%e5%bc%8fstructural-patterns aria-label="ç»“æ„å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰">ç»“æ„å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰</a></li><li><a href=#%e8%a1%8c%e4%b8%ba%e5%9e%8b%e6%a8%a1%e5%bc%8fbehavioral-patterns aria-label="è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰">è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰</a></li></ul></ul></li></ul><li><a href=#%e5%88%9b%e5%bb%ba%e5%9e%8b%e6%a8%a1%e5%bc%8f aria-label=åˆ›å»ºå‹æ¨¡å¼>åˆ›å»ºå‹æ¨¡å¼</a><ul><li><a href=#%e5%b7%a5%e5%8e%82%e6%a8%a1%e5%bc%8ffactory-pattern aria-label="å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰">å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰</a><ul><li><a href=#%e9%97%ae%e9%a2%98%e8%83%8c%e6%99%af aria-label=é—®é¢˜èƒŒæ™¯>é—®é¢˜èƒŒæ™¯</a></li><li><a href=#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88 aria-label=è§£å†³æ–¹æ¡ˆ>è§£å†³æ–¹æ¡ˆ</a></li><li><a href=#%e5%b7%a5%e5%8e%82%e6%96%b9%e6%b3%95%e6%a8%a1%e5%bc%8f%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0 aria-label=å·¥å‚æ–¹æ³•æ¨¡å¼ä»£ç å®ç°>å·¥å‚æ–¹æ³•æ¨¡å¼ä»£ç å®ç°</a></li><li><a href=#%e7%ae%80%e5%8d%95%e5%b7%a5%e5%8e%82 aria-label=ç®€å•å·¥å‚>ç®€å•å·¥å‚</a></li></ul></li><li><a href=#%e6%8a%bd%e8%b1%a1%e5%b7%a5%e5%8e%82%e6%a8%a1%e5%bc%8fabstract-factory-pattern aria-label="æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰">æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰</a><ul><li><a href=#%e9%97%ae%e9%a2%98%e8%83%8c%e6%99%af-1 aria-label=é—®é¢˜èƒŒæ™¯>é—®é¢˜èƒŒæ™¯</a></li><li><a href=#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88-1 aria-label=è§£å†³æ–¹æ¡ˆ>è§£å†³æ–¹æ¡ˆ</a></li><li><a href=#%e6%8a%bd%e8%b1%a1%e5%b7%a5%e5%8e%82%e6%a8%a1%e5%bc%8f%e4%bb%a3%e7%a0%81%e5%ae%9e%e7%8e%b0 aria-label=æŠ½è±¡å·¥å‚æ¨¡å¼ä»£ç å®ç°>æŠ½è±¡å·¥å‚æ¨¡å¼ä»£ç å®ç°</a></li></ul></li><li><a href=#%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8fsingleton-pattern aria-label="å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰">å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰</a></li><li><a href=#%e5%bb%ba%e9%80%a0%e8%80%85%e6%a8%a1%e5%bc%8fbuilder-pattern aria-label="å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰">å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰</a></li><li><a href=#%e5%8e%9f%e5%9e%8b%e6%a8%a1%e5%bc%8fprototype-pattern aria-label="åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰">åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰</a></li></ul></li><li><a href=#%e7%bb%93%e6%9e%84%e5%9e%8b%e6%a8%a1%e5%bc%8f aria-label=ç»“æ„å‹æ¨¡å¼>ç»“æ„å‹æ¨¡å¼</a><ul><li><a href=#%e9%80%82%e9%85%8d%e5%99%a8%e6%a8%a1%e5%bc%8fadapter-pattern aria-label="é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰">é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰</a></li><li><a href=#%e6%a1%a5%e6%8e%a5%e6%a8%a1%e5%bc%8fbridge-pattern aria-label="æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰">æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰</a></li><li><a href=#%e8%bf%87%e6%bb%a4%e5%99%a8%e6%a8%a1%e5%bc%8ffiltercriteria-pattern aria-label="è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰">è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰</a></li><li><a href=#%e7%bb%84%e5%90%88%e6%a8%a1%e5%bc%8fcomposite-pattern aria-label="ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰">ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰</a></li><li><a href=#%e8%a3%85%e9%a5%b0%e5%99%a8%e6%a8%a1%e5%bc%8fdecorator-pattern aria-label="è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰">è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰</a></li><li><a href=#%e4%ba%ab%e5%85%83%e6%a8%a1%e5%bc%8fflyweight-pattern aria-label="äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰">äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰</a></li><li><a href=#%e4%bb%a3%e7%90%86%e6%a8%a1%e5%bc%8fproxy-pattern aria-label="ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰">ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰</a></li><li><a href=#%e9%97%a8%e9%9d%a2%e6%a8%a1%e5%bc%8ffacade-pattern aria-label="é—¨é¢æ¨¡å¼ï¼ˆFacade Patternï¼‰">é—¨é¢æ¨¡å¼ï¼ˆFacade Patternï¼‰</a></li></ul></li><li><a href=#%e8%a1%8c%e4%b8%ba%e5%9e%8b%e6%a8%a1%e5%bc%8f aria-label=è¡Œä¸ºå‹æ¨¡å¼>è¡Œä¸ºå‹æ¨¡å¼</a><ul><li><a href=#%e8%b4%a3%e4%bb%bb%e9%93%be%e6%a8%a1%e5%bc%8fchain-of-responsibility-pattern aria-label="è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰">è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰</a></li><li><a href=#%e5%91%bd%e4%bb%a4%e6%a8%a1%e5%bc%8fcommand-pattern aria-label="å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰">å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰</a></li><li><a href=#%e8%a7%a3%e9%87%8a%e5%99%a8%e6%a8%a1%e5%bc%8finterpreter-pattern aria-label="è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰">è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰</a></li><li><a href=#%e8%bf%ad%e4%bb%a3%e5%99%a8%e6%a8%a1%e5%bc%8fiterator-pattern aria-label="è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰">è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰</a></li><li><a href=#%e4%b8%ad%e4%bb%8b%e8%80%85%e6%a8%a1%e5%bc%8fmediator-pattern aria-label="ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰">ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰</a></li><li><a href=#%e5%a4%87%e5%bf%98%e5%bd%95%e6%a8%a1%e5%bc%8fmemento-pattern aria-label="å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰">å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰</a></li><li><a href=#%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8fobserver-pattern aria-label="è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰">è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</a></li><li><a href=#%e7%8a%b6%e6%80%81%e6%a8%a1%e5%bc%8fstate-pattern aria-label="çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰">çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰</a></li><li><a href=#%e7%a9%ba%e5%af%b9%e8%b1%a1%e6%a8%a1%e5%bc%8fnull-object-pattern aria-label="ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰">ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰</a></li><li><a href=#%e7%ad%96%e7%95%a5%e6%a8%a1%e5%bc%8fstrategy-pattern aria-label="ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰">ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</a></li><li><a href=#%e6%a8%a1%e6%9d%bf%e6%a8%a1%e5%bc%8ftemplate-pattern aria-label="æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰">æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰</a></li><li><a href=#%e8%ae%bf%e9%97%ae%e8%80%85%e6%a8%a1%e5%bc%8fvisitor-pattern aria-label="è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰">è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h3 id=javaè®¾è®¡æ¨¡å¼æ¦‚è¿°>Javaè®¾è®¡æ¨¡å¼æ¦‚è¿°<a hidden class=anchor aria-hidden=true href=#javaè®¾è®¡æ¨¡å¼æ¦‚è¿°>#</a></h3><p>è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆæ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿æ˜¯ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚
ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Ÿ
ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯é æ€§ã€‚ åœ¨é¡¹ç›®ä¸­åˆç†åœ°è¿ç”¨è®¾è®¡æ¨¡å¼å¯ä»¥å®Œç¾åœ°è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œæ¯ç§æ¨¡å¼åœ¨ç°å®ä¸­éƒ½æœ‰ç›¸åº”çš„åŸç†æ¥ä¸ä¹‹å¯¹åº”ï¼Œæ¯ç§æ¨¡å¼éƒ½æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆã€‚
å¸¸è§çš„è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰å¤§ç±»ï¼šåˆ›å»ºå‹æ¨¡å¼ã€ç»“æ„å‹æ¨¡å¼å’Œè¡Œä¸ºå‹æ¨¡å¼ã€‚</p><h2 id=è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™>è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™<a hidden class=anchor aria-hidden=true href=#è®¾è®¡æ¨¡å¼çš„å…­å¤§åŸåˆ™>#</a></h2><p><strong>1ã€å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰</strong></p><p>å¼€é—­åŸåˆ™çš„æ„æ€æ˜¯ï¼š<strong>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</strong>ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚ç®€è¨€ä¹‹ï¼Œæ˜¯ä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ï¼Œåé¢çš„å…·ä½“è®¾è®¡ä¸­æˆ‘ä»¬ä¼šæåˆ°è¿™ç‚¹ã€‚</p><p><strong>2ã€é‡Œæ°ä»£æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰</strong></p><p>é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚ é‡Œæ°ä»£æ¢åŸåˆ™ä¸­è¯´ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚LSP æ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“æ´¾ç”Ÿç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œä¸”è½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œæ´¾ç”Ÿç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å¼€é—­åŸåˆ™çš„è¡¥å……ã€‚å®ç°å¼€é—­åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ï¼Œè€ŒåŸºç±»ä¸å­ç±»çš„ç»§æ‰¿å…³ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚</p><p><strong>3ã€ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰</strong></p><p>è¿™ä¸ªåŸåˆ™æ˜¯å¼€é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šé’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚</p><p><strong>4ã€æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼‰</strong></p><p>è¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯ï¼šä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£è¦å¥½ã€‚å®ƒè¿˜æœ‰å¦å¤–ä¸€ä¸ªæ„æ€æ˜¯ï¼šé™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ã€‚ç”±æ­¤å¯è§ï¼Œå…¶å®è®¾è®¡æ¨¡å¼å°±æ˜¯ä»å¤§å‹è½¯ä»¶æ¶æ„å‡ºå‘ã€ä¾¿äºå‡çº§å’Œç»´æŠ¤çš„è½¯ä»¶è®¾è®¡æ€æƒ³ï¼Œå®ƒå¼ºè°ƒé™ä½ä¾èµ–ï¼Œé™ä½è€¦åˆã€‚</p><p><strong>5ã€è¿ªç±³ç‰¹æ³•åˆ™ï¼Œåˆç§°æœ€å°‘çŸ¥é“åŸåˆ™ï¼ˆDemeter Principleï¼‰</strong></p><p>æœ€å°‘çŸ¥é“åŸåˆ™æ˜¯æŒ‡ï¼šä¸€ä¸ªå®ä½“åº”å½“å°½é‡å°‘åœ°ä¸å…¶ä»–å®ä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚</p><p><strong>6ã€åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰</strong></p><p>åˆæˆå¤ç”¨åŸåˆ™æ˜¯æŒ‡ï¼šå°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚</p><h4 id=åˆ›å»ºå‹æ¨¡å¼creational-patterns>åˆ›å»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰<a hidden class=anchor aria-hidden=true href=#åˆ›å»ºå‹æ¨¡å¼creational-patterns>#</a></h4><p>åˆ›å»ºå‹æ¨¡å¼æä¾›äº†ä¸€ç§åœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶éšè—åˆ›å»ºé€»è¾‘çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ new è¿ç®—ç¬¦ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚è¿™ä½¿å¾—ç¨‹åºåœ¨åˆ¤æ–­é’ˆå¯¹æŸä¸ªç»™å®šå®ä¾‹éœ€è¦åˆ›å»ºå“ªäº›å¯¹è±¡æ—¶æ›´åŠ çµæ´»ã€‚</p><ol><li><p><strong>å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šéœ€è¦ç¡®ä¿æŸä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸”è‡ªè¡Œå®ä¾‹åŒ–å¹¶å‘æ•´ä¸ªç³»ç»Ÿæä¾›è¿™ä¸ªå®ä¾‹ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæ•°æ®åº“è¿æ¥æ± ã€é…ç½®æ–‡ä»¶è¯»å–ç±»ã€‚</li></ul></li><li><p><strong>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Method Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®šä¹‰ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†ç”±å­ç±»å†³å®šè¦å®ä¾‹åŒ–çš„ç±»æ˜¯å“ªä¸€ä¸ªã€‚å·¥å‚æ–¹æ³•ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæ—¥å¿—è®°å½•å™¨ã€è¯»å–ä¸åŒç±»å‹æ–‡ä»¶çš„è§£æå™¨ã€‚</li></ul></li><li><p><strong>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–äº’ç›¸ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šGUIå·¥å…·åŒ…ä¸­çš„æŒ‰é’®ã€æ–‡æœ¬æ¡†ã€èœå•ç­‰ã€‚</li></ul></li><li><p><strong>å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæ„å»ºå¤æ‚å¯¹è±¡å¦‚æ–‡æ¡£ã€è®¡ç®—æœºç¡¬ä»¶é…ç½®ã€‚</li></ul></li><li><p><strong>åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šå¯¹è±¡å¤åˆ¶ã€éœ€è¦å¤§é‡ç›¸ä¼¼å¯¹è±¡çš„åˆ›å»ºã€‚</li></ul></li></ol><h4 id=ç»“æ„å‹æ¨¡å¼structural-patterns>ç»“æ„å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰<a hidden class=anchor aria-hidden=true href=#ç»“æ„å‹æ¨¡å¼structural-patterns>#</a></h4><p>ç»“æ„å‹æ¨¡å¼è®¾è®¡æ¨¡å¼å…³æ³¨ç±»å’Œå¯¹è±¡çš„ç»„åˆã€‚ç»§æ‰¿çš„æ¦‚å¿µè¢«ç”¨æ¥ç»„åˆæ¥å£å’Œå®šä¹‰ç»„åˆå¯¹è±¡è·å¾—æ–°åŠŸèƒ½çš„æ–¹å¼ã€‚</p><ol><li><p><strong>é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæ—§ç³»ç»Ÿä¸æ–°ç³»ç»Ÿçš„é›†æˆã€‚</li></ul></li><li><p><strong>æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šå›¾å½¢ç»˜åˆ¶ç¨‹åºä¸­çš„å½¢çŠ¶å’Œé¢œè‰²åˆ†ç¦»ã€‚</li></ul></li><li><p><strong>ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚</li></ul></li><li><p><strong>è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œå°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼Œè£…é¥°æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæµå¤„ç†ä¸­çš„BufferedReaderå’ŒBufferedWriterã€‚</li></ul></li><li><p><strong>å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œä½¿å¾—å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šç®€åŒ–å¤æ‚ç³»ç»Ÿçš„æ¥å£ï¼Œå¦‚ç®€åŒ–çš„æ•°æ®åº“æ¥å£ã€‚</li></ul></li><li><p><strong>äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡çš„å¤ç”¨ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„å­—ç¬¦å¯¹è±¡ç®¡ç†ã€‚</li></ul></li><li><p><strong>ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šè™šæ‹Ÿä»£ç†ã€è¿œç¨‹ä»£ç†ã€ä¿æŠ¤ä»£ç†ã€‚</li></ul></li></ol><h4 id=è¡Œä¸ºå‹æ¨¡å¼behavioral-patterns>è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰<a hidden class=anchor aria-hidden=true href=#è¡Œä¸ºå‹æ¨¡å¼behavioral-patterns>#</a></h4><p>è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ç‰¹åˆ«å…³æ³¨å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ã€‚</p><ol><li><p><strong>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¸ºè¯·æ±‚åˆ›å»ºä¸€ä¸ªæ¥æ”¶å¯¹è±¡çš„é“¾ï¼Œè¿™æ ·å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šäº‹åŠ¡å¤„ç†ä¸­çš„å®¡æ‰¹æµç¨‹ã€‚</li></ul></li><li><p><strong>å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå°†è¯·æ±‚å°è£…æˆå¯¹è±¡ï¼Œä»è€Œä½¿ä½ å¯ä»¥ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼›å¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šèœå•å‘½ä»¤ã€æ“ä½œæ—¥å¿—ã€æ’¤é”€æ“ä½œã€‚</li></ul></li><li><p><strong>è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šç»™å®šä¸€ç§è¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šç¼–è¯‘å™¨ã€æ­£åˆ™è¡¨è¾¾å¼å¤„ç†ã€‚</li></ul></li><li><p><strong>è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²å…¶å†…éƒ¨çš„è¡¨ç¤ºã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šéå†é›†åˆå¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ã€æ ˆã€é˜Ÿåˆ—ç­‰ã€‚</li></ul></li><li><p><strong>ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡çš„äº¤äº’ï¼Œä½¿å¾—è¿™äº›å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å®ƒä»¬å¯ä»¥æ¾æ•£è€¦åˆã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šèŠå¤©å®¤ä¸­çš„æ¶ˆæ¯ä¼ é€’ã€‚</li></ul></li><li><p><strong>å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæ’¤é”€åŠŸèƒ½ã€å†å²è®°å½•ã€‚</li></ul></li><li><p><strong>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œä½¿å¾—æ¯å½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ï¼Œåˆ™æ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šäº‹ä»¶ç›‘å¬æœºåˆ¶ã€‚</li></ul></li><li><p><strong>çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå…è®¸å¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šçŠ¶æ€æœºå®ç°ã€ç•Œé¢å¯¼èˆªã€‚</li></ul></li><li><p><strong>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯äº’ç›¸æ›¿æ¢ã€‚æœ¬æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·è€Œå˜åŒ–ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šå„ç§æ’åºç®—æ³•ã€æ”¯ä»˜æ–¹å¼é€‰æ‹©ã€‚</li></ul></li><li><p><strong>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡æ–°å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šæ•°æ®å¤„ç†ä¸­çš„æ ‡å‡†å¤„ç†æµç¨‹ã€‚</li></ul></li><li><p><strong>è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰</strong></p><ul><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚</li><li><strong>ç¤ºä¾‹</strong>ï¼šå¯¹è±¡ç»“æ„å¦‚æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œç¼–è¯‘å™¨ä¸­çš„è¯­æ³•æ ‘ã€‚</li></ul></li></ol><h1 id=åˆ›å»ºå‹æ¨¡å¼>åˆ›å»ºå‹æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#åˆ›å»ºå‹æ¨¡å¼>#</a></h1><h2 id=å·¥å‚æ¨¡å¼factory-pattern>å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰<a hidden class=anchor aria-hidden=true href=#å·¥å‚æ¨¡å¼factory-pattern>#</a></h2><h3 id=é—®é¢˜èƒŒæ™¯>é—®é¢˜èƒŒæ™¯<a hidden class=anchor aria-hidden=true href=#é—®é¢˜èƒŒæ™¯>#</a></h3><p>å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾ç‰©æµç®¡ç†åº”ç”¨ã€‚Â æœ€åˆç‰ˆæœ¬åªèƒ½å¤„ç†å¡è½¦è¿è¾“ï¼ŒÂ å› æ­¤å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨ä½äºåä¸ºÂ <code>å¡è½¦</code>çš„ç±»ä¸­ã€‚ä¸€æ®µæ—¶é—´åï¼ŒÂ è¿™æ¬¾åº”ç”¨å˜å¾—æå—æ¬¢è¿ï¼ŒåŒæ—¶Â ä½ æ¯å¤©éƒ½èƒ½æ”¶åˆ°åå‡ æ¬¡æ¥è‡ªæµ·è¿å…¬å¸çš„è¯·æ±‚ï¼ŒÂ å¸Œæœ›åº”ç”¨èƒ½å¤Ÿæ”¯æŒæµ·ä¸Šç‰©æµåŠŸèƒ½ã€‚
è¿™å¯æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚Â ä½†æ˜¯ä»£ç é—®é¢˜è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿç›®å‰ï¼ŒÂ å¤§éƒ¨åˆ†ä»£ç éƒ½ä¸Â <code>å¡è½¦</code>ç±»ç›¸å…³ã€‚Â åœ¨ç¨‹åºä¸­æ·»åŠ Â <code>è½®èˆ¹</code>ç±»éœ€è¦ä¿®æ”¹å…¨éƒ¨ä»£ç ã€‚Â æ›´ç³Ÿç³•çš„æ˜¯ï¼ŒÂ å¦‚æœä½ ä»¥åéœ€è¦åœ¨ç¨‹åºä¸­æ”¯æŒå¦å¤–ä¸€ç§è¿è¾“æ–¹å¼ï¼ŒÂ å¾ˆå¯èƒ½éœ€è¦å†æ¬¡å¯¹è¿™äº›ä»£ç è¿›è¡Œå¤§å¹…ä¿®æ”¹ã€‚
æœ€åï¼ŒÂ ä½ å°†ä¸å¾—ä¸ç¼–å†™ç¹å¤çš„ä»£ç ï¼ŒÂ æ ¹æ®ä¸åŒçš„è¿è¾“å¯¹è±¡ç±»ï¼ŒÂ åœ¨åº”ç”¨ä¸­è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚</p><h3 id=è§£å†³æ–¹æ¡ˆ>è§£å†³æ–¹æ¡ˆ<a hidden class=anchor aria-hidden=true href=#è§£å†³æ–¹æ¡ˆ>#</a></h3><p>å·¥å‚æ–¹æ³•æ¨¡å¼å»ºè®®ä½¿ç”¨ç‰¹æ®Šçš„_å·¥å‚_æ–¹æ³•ä»£æ›¿å¯¹äºå¯¹è±¡æ„é€ å‡½æ•°çš„ç›´æ¥è°ƒç”¨Â ï¼ˆå³ä½¿ç”¨Â <code>new</code>è¿ç®—ç¬¦ï¼‰ã€‚Â ä¸ç”¨æ‹…å¿ƒï¼ŒÂ å¯¹è±¡ä»å°†é€šè¿‡Â <code>new</code>è¿ç®—ç¬¦åˆ›å»ºï¼ŒÂ åªæ˜¯è¯¥è¿ç®—ç¬¦æ”¹åœ¨å·¥å‚æ–¹æ³•ä¸­è°ƒç”¨ç½¢äº†ã€‚Â å·¥å‚æ–¹æ³•è¿”å›çš„å¯¹è±¡é€šå¸¸è¢«ç§°ä½œÂ â€œäº§å“â€ã€‚</p><p><div class=post-img-view><a data-fancybox=gallery href=https://cdn.jsdelivr.net/gh/luolin1024/image@main/img/20240716221737.png><img src=https://cdn.jsdelivr.net/gh/luolin1024/image@main/img/20240716221737.png alt=image.png></a></div>ä¹çœ‹ä¹‹ä¸‹ï¼ŒÂ è¿™ç§æ›´æ”¹å¯èƒ½æ¯«æ— æ„ä¹‰ï¼šÂ æˆ‘ä»¬åªæ˜¯æ”¹å˜äº†ç¨‹åºä¸­è°ƒç”¨æ„é€ å‡½æ•°çš„ä½ç½®è€Œå·²ã€‚Â ä½†æ˜¯ï¼ŒÂ ä»”ç»†æƒ³ä¸€ä¸‹ï¼ŒÂ ç°åœ¨ä½ å¯ä»¥åœ¨å­ç±»ä¸­é‡å†™å·¥å‚æ–¹æ³•ï¼ŒÂ ä»è€Œæ”¹å˜å…¶åˆ›å»ºäº§å“çš„ç±»å‹ã€‚
ä½†æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„:ä»…å½“è¿™äº›äº§å“å…·æœ‰å…±åŒçš„åŸºç±»æˆ–è€…æ¥å£æ—¶ï¼ŒÂ å­ç±»æ‰èƒ½è¿”å›ä¸åŒç±»å‹çš„äº§å“ï¼ŒÂ åŒæ—¶åŸºç±»ä¸­çš„å·¥å‚æ–¹æ³•è¿˜åº”å°†å…¶è¿”å›ç±»å‹å£°æ˜ä¸ºè¿™ä¸€å…±æœ‰æ¥å£ã€‚<div class=post-img-view><a data-fancybox=gallery href=https://cdn.jsdelivr.net/gh/luolin1024/image@main/img/20240716221837.png><img src=https://cdn.jsdelivr.net/gh/luolin1024/image@main/img/20240716221837.png alt=image.png></a></div>ä¸¾ä¾‹æ¥è¯´ï¼ŒÂ â€‹Â <code>å¡è½¦</code>Truckå’ŒÂ <code>è½®èˆ¹</code>Shipç±»éƒ½å¿…é¡»å®ç°Â <code>è¿è¾“</code>Transportæ¥å£ï¼ŒÂ è¯¥æ¥å£å£°æ˜äº†ä¸€ä¸ªåä¸ºÂ <code>deliver</code>äº¤ä»˜çš„æ–¹æ³•ã€‚Â æ¯ä¸ªç±»éƒ½å°†ä»¥ä¸åŒçš„æ–¹å¼å®ç°è¯¥æ–¹æ³•ï¼šÂ å¡è½¦èµ°é™†è·¯äº¤ä»˜è´§ç‰©ï¼ŒÂ è½®èˆ¹èµ°æµ·è·¯äº¤ä»˜è´§ç‰©ã€‚Â â€‹Â <code>é™†è·¯è¿è¾“</code>RoadÂ­Logisticsç±»ä¸­çš„å·¥å‚æ–¹æ³•è¿”å›å¡è½¦å¯¹è±¡ï¼ŒÂ è€ŒÂ <code>æµ·è·¯è¿è¾“</code>SeaÂ­Logisticsç±»åˆ™è¿”å›è½®èˆ¹å¯¹è±¡ã€‚</p><h3 id=å·¥å‚æ–¹æ³•æ¨¡å¼ä»£ç å®ç°>å·¥å‚æ–¹æ³•æ¨¡å¼ä»£ç å®ç°<a hidden class=anchor aria-hidden=true href=#å·¥å‚æ–¹æ³•æ¨¡å¼ä»£ç å®ç°>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// å·¥å‚æ–¹æ³•æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nn>com.lin.factorypattern</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>FactoryMethodTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// å‡è®¾æœ‰4ä¸ªè®¢å•,åˆ†åˆ«ä¸ºå¡è½¦è¿è¾“ã€å¡è½¦åŠ é€Ÿè¿è¾“ã€æµ·é™†è¿è¾“ã€æµ·é™†åŠ é€Ÿè¿è¾“
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>Factory</span> <span class=n>factory</span>  <span class=o>=</span> <span class=k>new</span> <span class=n>TruckFactory</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>factory</span><span class=o>.</span><span class=na>deliver</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>Factory</span> <span class=n>factory2</span>  <span class=o>=</span> <span class=k>new</span> <span class=n>ShipFactory</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>factory</span><span class=o>.</span><span class=na>deliver</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>Factory</span> <span class=n>factory3</span>  <span class=o>=</span> <span class=k>new</span> <span class=n>TruckFactory</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>factory</span><span class=o>.</span><span class=na>speedDeliver</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>Factory</span> <span class=n>factory4</span>  <span class=o>=</span> <span class=k>new</span> <span class=n>ShipFactory</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>factory</span><span class=o>.</span><span class=na>speedDeliver</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * é€šç”¨äº§å“æ¥å£
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>Transport</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>deliver</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>speedDeliver</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * å…·ä½“äº§å“:Truck
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Truck</span> <span class=kd>implements</span> <span class=n>Transport</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>deliver</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;åœ¨ç›’å­ä¸­ä»¥é™†è·¯è¿è¾“ã€‚&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>speedDeliver</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;å¡è½¦åŠ é€Ÿ1å€è¿è¾“ã€‚&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * å…·ä½“äº§å“:Ship
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Ship</span> <span class=kd>implements</span> <span class=n>Transport</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>deliver</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;åœ¨é›†è£…ç®±ä¸­ä»¥æµ·è·¯è¿è¾“ã€‚&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>speedDeliver</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ship æ— æ³•åŠ é€Ÿã€‚ä»¥åŸé€Ÿåº¦è¿è¾“&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * é€šç”¨åˆ›å»ºè€…ï¼ˆå·¥å‚ï¼‰
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Factory</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>deliver</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>Transport</span> <span class=n>product</span> <span class=o>=</span> <span class=n>createProduct</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>product</span><span class=o>.</span><span class=na>deliver</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>speedDeliver</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>Transport</span> <span class=n>product</span> <span class=o>=</span> <span class=n>createProduct</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>product</span><span class=o>.</span><span class=na>speedDeliver</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=kd>abstract</span> <span class=n>Transport</span> <span class=nf>createProduct</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * å…·ä½“åˆ›å»ºè€…:Truck
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>TruckFactory</span> <span class=kd>extends</span> <span class=n>Factory</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=n>Transport</span> <span class=nf>createProduct</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>Truck</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * å…·ä½“åˆ›å»ºè€…:Ship
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ShipFactory</span> <span class=kd>extends</span> <span class=n>Factory</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=n>Transport</span> <span class=nf>createProduct</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>Truck</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h3 id=ç®€å•å·¥å‚>ç®€å•å·¥å‚<a hidden class=anchor aria-hidden=true href=#ç®€å•å·¥å‚>#</a></h3><p>ç®€å•å·¥å‚æ¨¡å¼ æè¿°äº†ä¸€ä¸ªç±»ï¼Œ å®ƒæ‹¥æœ‰ä¸€ä¸ªåŒ…å«å¤§é‡æ¡ä»¶è¯­å¥çš„æ„å»ºæ–¹æ³•ï¼Œ å¯æ ¹æ®æ–¹æ³•çš„å‚æ•°æ¥é€‰æ‹©å¯¹ä½•ç§äº§å“è¿›è¡Œåˆå§‹åŒ–å¹¶å°†å…¶è¿”å›ã€‚
äººä»¬é€šå¸¸ä¼šå°†ç®€å•å·¥å‚ä¸æ™®é€šçš„å·¥å‚æˆ–å…¶å®ƒåˆ›å»ºå‹è®¾è®¡æ¨¡å¼æ··æ·†ã€‚ åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ ç®€å•å·¥å‚æ˜¯å¼•å…¥<strong>å·¥å‚æ–¹æ³•</strong>æˆ–<strong>æŠ½è±¡å·¥å‚æ¨¡å¼</strong>æ—¶çš„ä¸€ä¸ªä¸­é—´æ­¥éª¤ã€‚
ç®€å•å·¥å‚é€šå¸¸æ²¡æœ‰å­ç±»ã€‚ ä½†å½“ä»ä¸€ä¸ªç®€å•å·¥å‚ä¸­æŠ½å–å‡ºå­ç±»åï¼Œ å®ƒçœ‹ä¸Šå»å°±ä¼šæ›´åƒç»å…¸çš„å·¥å‚æ–¹æ³•æ¨¡å¼äº†ã€‚
é¡ºä¾¿æä¸€å¥ï¼Œ å¦‚æœä½ å°†ä¸€ä¸ªç®€å•å·¥å‚å£°æ˜ä¸º abstractç±»å‹ï¼Œ å®ƒå¹¶ä¸ä¼šç¥å¥‡åœ°å˜æˆæŠ½è±¡å·¥å‚æ¨¡å¼ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>FactoryMethodTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Application</span><span class=o>().</span><span class=na>getProduct</span><span class=o>(</span><span class=s>&#34;1&#34;</span><span class=o>).</span><span class=na>method1</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>         * ProductA.method1 executed..
</span></span></span><span class=line><span class=cl><span class=cm>         */</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>Product</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>method1</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ProductFactory</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=n>Product</span> <span class=nf>getProduct</span><span class=o>(</span><span class=n>String</span> <span class=n>type</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=s>&#34;1&#34;</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>type</span><span class=o>)){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=n>ProductA</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=n>ProductB</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ProductA</span> <span class=kd>implements</span> <span class=n>Product</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>method1</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ProductA.method1 executed..&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ProductB</span> <span class=kd>implements</span> <span class=n>Product</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>method1</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ProductB.method1 executed..&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Application</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Product</span> <span class=nf>createProduct</span><span class=o>(</span><span class=n>String</span> <span class=n>type</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ProductFactory</span><span class=o>.</span><span class=na>getProduct</span><span class=o>(</span><span class=n>type</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>Product</span> <span class=nf>getProduct</span><span class=o>(</span><span class=n>String</span> <span class=n>type</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=n>Product</span> <span class=n>product</span> <span class=o>=</span> <span class=n>createProduct</span><span class=o>(</span><span class=n>type</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ä¸€ç³»åˆ—æ“ä½œå…±åŒçš„é¢„å¤„ç†æ“ä½œã€‚ã€‚ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=n>product</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=æŠ½è±¡å·¥å‚æ¨¡å¼abstract-factory-pattern>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰<a hidden class=anchor aria-hidden=true href=#æŠ½è±¡å·¥å‚æ¨¡å¼abstract-factory-pattern>#</a></h2><h3 id=é—®é¢˜èƒŒæ™¯-1>é—®é¢˜èƒŒæ™¯<a hidden class=anchor aria-hidden=true href=#é—®é¢˜èƒŒæ™¯-1>#</a></h3><h3 id=è§£å†³æ–¹æ¡ˆ-1>è§£å†³æ–¹æ¡ˆ<a hidden class=anchor aria-hidden=true href=#è§£å†³æ–¹æ¡ˆ-1>#</a></h3><h3 id=æŠ½è±¡å·¥å‚æ¨¡å¼ä»£ç å®ç°>æŠ½è±¡å·¥å‚æ¨¡å¼ä»£ç å®ç°<a hidden class=anchor aria-hidden=true href=#æŠ½è±¡å·¥å‚æ¨¡å¼ä»£ç å®ç°>#</a></h3><p>æœ¬æ–‡å€ŸåŠ©jdkä¸­å®ç°jdbcçš„åŸç†æ¥æè¿°æè¿°ä¸€ä¸‹æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œé¦–å…ˆå®šä¹‰ä¸¤ä¸ªæŠ½è±¡æ¥å£ï¼šè¿æ¥æ¥å£å’Œå‘½ä»¤æ¥å£ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>IConnect</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>connect</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>ICommand</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>command</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>æ­¤æ—¶å†å®šä¹‰ä¸€ä¸ªæ•°æ®åº“æ“ä½œutilç”¨æ¥å¯¹æ•°æ®åº“è¿›è¡ŒæŠ½è±¡å¯¹æ•°æ®åº“è¿›è¡Œå¤„ç†ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>IDatabaseUtils</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>IConnect</span> <span class=nf>getConnect</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>ICommand</span> <span class=nf>getCommand</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>æ­¤æ—¶å¦‚æœæˆ‘ä»¬ä½¿ç”¨mysqlä½œä¸ºæ•°æ®åº“ä½¿ç”¨ï¼Œé‚£ä¹ˆå…·ä½“å®ç°ä¸€ä¸‹æ•°æ®åº“è¿æ¥æ¥å£ã€æ•°æ®åº“å‘½ä»¤æ¥å£å’Œmysqlå·¥å…·ç±»ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>MysqlConnect</span> <span class=kd>implements</span> <span class=n>IConnect</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>connect</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;connect mysql ...&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>MysqlCommand</span> <span class=kd>implements</span> <span class=n>ICommand</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>command</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;mysql command...&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>MysqlUtils</span> <span class=kd>implements</span> <span class=n>IDatabaseUtils</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>IConnect</span> <span class=nf>getConnect</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>MysqlConnect</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ICommand</span> <span class=nf>getCommand</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>MysqlCommand</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>å‡å¦‚å°è£…åˆ°ä¸€ä¸ªjaråŒ…ä¸­ç»™æ‰€æœ‰äººä½¿ç”¨æ—¶ï¼Œç¼ºå°‘oracleå¤„ç†å·¥å…·ï¼Œæˆ‘ä»¬åªéœ€è¦å†å…·ä½“å®ç°ä¸€ä¸‹æ•°æ®åº“è¿æ¥æ¥å£ã€æ•°æ®åº“å‘½ä»¤æ¥å£å’Œoracleå·¥å…·ç±»ï¼Œè€Œä¸éœ€è¦å»åŠ¨åŸæœ‰ä»£ç </p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>OracleConnect</span> <span class=kd>implements</span> <span class=n>IConnect</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>connect</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;connect oracle ...&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>OracleCommand</span> <span class=kd>implements</span> <span class=n>ICommand</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>command</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;oracle command...&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>OracleUtils</span> <span class=kd>implements</span> <span class=n>IDatabaseUtils</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>IConnect</span> <span class=nf>getConnect</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>OracleConnect</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>ICommand</span> <span class=nf>getCommand</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>OracleCommand</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>å¯¹äºä¸Šé¢çš„ç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ç§æ–¹å¼ç®€å•è°ƒç”¨ï¼Œé€šè¿‡IDatabaseUtilså¼•ç”¨è€Œä¸éœ€è¦å…³æ³¨è¢«è°ƒç”¨çš„å…·ä½“å®ç°ç»†èŠ‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>AbstractFactoryTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>IDatabaseUtils</span> <span class=n>iDatabaseUtils</span> <span class=o>=</span> <span class=k>new</span> <span class=n>OracleUtils</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// ä¸å†éœ€è¦å…³æ³¨è¢«è°ƒç”¨çš„å…·ä½“ç»†èŠ‚
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>iDatabaseUtils</span><span class=o>.</span><span class=na>getConnect</span><span class=o>().</span><span class=na>connect</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>iDatabaseUtils</span><span class=o>.</span><span class=na>getCommand</span><span class=o>().</span><span class=na>command</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>æ€»ç»“ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼å°±æ˜¯ä¸€ç§ä¸ºè®¿é—®ç±»æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç»„ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œä¸”è®¿é—®ç±»æ— é¡»æŒ‡å®šæ‰€è¦äº§å“çš„å…·ä½“ç±»å°±èƒ½å¾—åˆ°åŒæ—çš„ä¸åŒç­‰çº§çš„äº§å“çš„æ¨¡å¼ç»“æ„ã€‚ä¼˜ç‚¹ï¼š1.å¯ä»¥åœ¨ç±»çš„å†…éƒ¨å¯¹äº§å“æ—ä¸­ç›¸å…³è”çš„å¤šç­‰çº§äº§å“å…±åŒç®¡ç†ï¼Œè€Œä¸å¿…ä¸“é—¨å¼•å…¥å¤šä¸ªæ–°çš„ç±»æ¥è¿›è¡Œç®¡ç†ï¼›2.å½“å¢åŠ ä¸€ä¸ªæ–°çš„äº§å“æ—æ—¶ä¸éœ€è¦ä¿®æ”¹åŸä»£ç ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™ã€‚</p><h2 id=å•ä¾‹æ¨¡å¼singleton-pattern>å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰<a hidden class=anchor aria-hidden=true href=#å•ä¾‹æ¨¡å¼singleton-pattern>#</a></h2><h2 id=å»ºé€ è€…æ¨¡å¼builder-pattern>å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰<a hidden class=anchor aria-hidden=true href=#å»ºé€ è€…æ¨¡å¼builder-pattern>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Product</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>productName</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>part1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>part2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Product</span><span class=o>(</span><span class=n>String</span> <span class=n>productName</span><span class=o>,</span> <span class=n>String</span> <span class=n>part1</span><span class=o>,</span> <span class=n>String</span> <span class=n>part2</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>productName</span> <span class=o>=</span> <span class=n>productName</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part1</span> <span class=o>=</span> <span class=n>part1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part2</span> <span class=o>=</span> <span class=n>part2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kd>class</span> <span class=nc>Builder</span><span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=n>String</span> <span class=n>productName</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=n>String</span> <span class=n>part1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=n>String</span> <span class=n>part2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>Builder</span> <span class=nf>productName</span><span class=o>(</span><span class=n>String</span> <span class=n>productName</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=o>.</span><span class=na>productName</span> <span class=o>=</span> <span class=n>productName</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>this</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>Builder</span> <span class=nf>part1</span><span class=o>(</span><span class=n>String</span> <span class=n>part1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=o>.</span><span class=na>part1</span> <span class=o>=</span> <span class=n>part1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>this</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>Builder</span> <span class=nf>part2</span><span class=o>(</span><span class=n>String</span> <span class=n>part2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=o>.</span><span class=na>part2</span> <span class=o>=</span> <span class=n>part2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>this</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>Product</span> <span class=nf>build</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=n>Product</span><span class=o>(</span><span class=k>this</span><span class=o>.</span><span class=na>productName</span><span class=o>,</span> <span class=k>this</span><span class=o>.</span><span class=na>part1</span><span class=o>,</span> <span class=k>this</span><span class=o>.</span><span class=na>part2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>toString</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;Product{&#34;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;productName=&#39;&#34;</span> <span class=o>+</span> <span class=n>productName</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;, part1=&#39;&#34;</span> <span class=o>+</span> <span class=n>part1</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;, part2=&#39;&#34;</span> <span class=o>+</span> <span class=n>part2</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=sc>&#39;}&#39;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=åŸå‹æ¨¡å¼prototype-pattern>åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰<a hidden class=anchor aria-hidden=true href=#åŸå‹æ¨¡å¼prototype-pattern>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * æ¨¡å‹å®šä¹‰ï¼š
</span></span></span><span class=line><span class=cl><span class=cm> * æŒ‡åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @date 2020/3/23 23:11
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ProtoTypeTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>CloneNotSupportedException</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Product</span> <span class=n>product</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Product</span><span class=o>(</span><span class=s>&#34;part1&#34;</span><span class=o>,</span> <span class=s>&#34;part2&#34;</span><span class=o>,</span> <span class=s>&#34;part3&#34;</span><span class=o>,</span> <span class=s>&#34;part4&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>Part</span><span class=o>(</span><span class=s>&#34;xxx&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>Product</span> <span class=n>clone</span> <span class=o>=</span> <span class=n>product</span><span class=o>.</span><span class=na>clone</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>product</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>clone</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;---------------å¯¹éƒ¨åˆ†æ•°æ®è¿›è¡Œä¿®æ”¹----------------&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>clone</span><span class=o>.</span><span class=na>setPart1</span><span class=o>(</span><span class=s>&#34;part1A&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>clone</span><span class=o>.</span><span class=na>getPart</span><span class=o>().</span><span class=na>setName</span><span class=o>(</span><span class=s>&#34;YYY&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>product</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>clone</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Part</span> <span class=kd>implements</span> <span class=n>Cloneable</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=n>Part</span> <span class=nf>clone</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>CloneNotSupportedException</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=o>(</span><span class=n>Part</span><span class=o>)</span> <span class=kd>super</span><span class=o>.</span><span class=na>clone</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Part</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>name</span> <span class=o>=</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getName</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setName</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>name</span> <span class=o>=</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>toString</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;Part{[&#34;</span> <span class=o>+</span> <span class=n>hashCode</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;]&#34;</span><span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;name=&#39;&#34;</span> <span class=o>+</span> <span class=n>name</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=sc>&#39;}&#39;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Product</span> <span class=kd>implements</span> <span class=n>Cloneable</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>part1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>part2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>part3</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>String</span> <span class=n>part4</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Part</span> <span class=nf>getPart</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>part</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setPart</span><span class=o>(</span><span class=n>Part</span> <span class=n>part</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part</span> <span class=o>=</span> <span class=n>part</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Part</span> <span class=n>part</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Product</span><span class=o>(</span><span class=n>String</span> <span class=n>part1</span><span class=o>,</span> <span class=n>String</span> <span class=n>part2</span><span class=o>,</span> <span class=n>String</span> <span class=n>part3</span><span class=o>,</span> <span class=n>String</span> <span class=n>part4</span><span class=o>,</span><span class=n>Part</span> <span class=n>part</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part1</span> <span class=o>=</span> <span class=n>part1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part2</span> <span class=o>=</span> <span class=n>part2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part3</span> <span class=o>=</span> <span class=n>part3</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part4</span> <span class=o>=</span> <span class=n>part4</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part</span> <span class=o>=</span> <span class=n>part</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=n>Product</span> <span class=nf>clone</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>CloneNotSupportedException</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// è¿›è¡Œæ·±æ‹·è´
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>        <span class=n>Product</span> <span class=n>product</span> <span class=o>=</span> <span class=o>(</span><span class=n>Product</span><span class=o>)</span> <span class=kd>super</span><span class=o>.</span><span class=na>clone</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>product</span><span class=o>.</span><span class=na>setPart</span><span class=o>(</span><span class=n>product</span><span class=o>.</span><span class=na>getPart</span><span class=o>().</span><span class=na>clone</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>product</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getPart1</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>part1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setPart1</span><span class=o>(</span><span class=n>String</span> <span class=n>part1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part1</span> <span class=o>=</span> <span class=n>part1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getPart2</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>part2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setPart2</span><span class=o>(</span><span class=n>String</span> <span class=n>part2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part2</span> <span class=o>=</span> <span class=n>part2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getPart3</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>part3</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setPart3</span><span class=o>(</span><span class=n>String</span> <span class=n>part3</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part3</span> <span class=o>=</span> <span class=n>part3</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getPart4</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>part4</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setPart4</span><span class=o>(</span><span class=n>String</span> <span class=n>part4</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>part4</span> <span class=o>=</span> <span class=n>part4</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>toString</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s>&#34;Product{[&#34;</span> <span class=o>+</span> <span class=n>hashCode</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34;]&#34;</span><span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;part1=&#39;&#34;</span> <span class=o>+</span> <span class=n>part1</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;, part2=&#39;&#34;</span> <span class=o>+</span> <span class=n>part2</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;, part3=&#39;&#34;</span> <span class=o>+</span> <span class=n>part3</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;, part4=&#39;&#34;</span> <span class=o>+</span> <span class=n>part4</span> <span class=o>+</span> <span class=sc>&#39;\&#39;&#39;</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=s>&#34;, part=&#34;</span> <span class=o>+</span> <span class=n>part</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>                <span class=sc>&#39;}&#39;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=ç»“æ„å‹æ¨¡å¼>ç»“æ„å‹æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#ç»“æ„å‹æ¨¡å¼>#</a></h1><h2 id=é€‚é…å™¨æ¨¡å¼adapter-pattern>é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰<a hidden class=anchor aria-hidden=true href=#é€‚é…å™¨æ¨¡å¼adapter-pattern>#</a></h2><h2 id=æ¡¥æ¥æ¨¡å¼bridge-pattern>æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰<a hidden class=anchor aria-hidden=true href=#æ¡¥æ¥æ¨¡å¼bridge-pattern>#</a></h2><h2 id=è¿‡æ»¤å™¨æ¨¡å¼filtercriteria-pattern>è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰<a hidden class=anchor aria-hidden=true href=#è¿‡æ»¤å™¨æ¨¡å¼filtercriteria-pattern>#</a></h2><h2 id=ç»„åˆæ¨¡å¼composite-pattern>ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰<a hidden class=anchor aria-hidden=true href=#ç»„åˆæ¨¡å¼composite-pattern>#</a></h2><h2 id=è£…é¥°å™¨æ¨¡å¼decorator-pattern>è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰<a hidden class=anchor aria-hidden=true href=#è£…é¥°å™¨æ¨¡å¼decorator-pattern>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * è£…é¥°è€…æ¨¡å¼ï¼šæ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½æˆ–ç»™ä¸€ä¸ªç±»é™„åŠ èŒè´£
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * ä¼˜ç‚¹ï¼š
</span></span></span><span class=line><span class=cl><span class=cm> * åœ¨ä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„åŸºç¡€ä¸Šç»™ä¸€ä¸ªå¯¹è±¡æ‰©å±•åŠŸèƒ½
</span></span></span><span class=line><span class=cl><span class=cm> * ä½¿ç”¨ä¸åŒçš„ç»„åˆå¯ä»¥å®ç°ä¸åŒçš„æ•ˆæœ
</span></span></span><span class=line><span class=cl><span class=cm> * ç¬¦åˆå¼€é—­åŸåˆ™
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author lin.luo@hand-china.com
</span></span></span><span class=line><span class=cl><span class=cm> * @date 2020/3/31 0:11
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>DecoratorTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Component</span> <span class=n>component</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ConcreteComponent</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=c1>//        component.operation();
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// åœ¨åŸæœ‰çš„åŸºç¡€ä¸Šæ·»åŠ åŠŸèƒ½
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>component</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ConcreteDecorator1</span><span class=o>(</span><span class=n>component</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=c1>//        component.operation();
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>component</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ConcreteDecorator2</span><span class=o>(</span><span class=n>component</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>component</span><span class=o>.</span><span class=na>operation</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>Component</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>operation</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ConcreteComponent</span> <span class=kd>implements</span> <span class=n>Component</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>operation</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;æ‹ç…§&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Decorator</span> <span class=kd>implements</span> <span class=n>Component</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Component</span> <span class=n>component</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Decorator</span><span class=o>(</span><span class=n>Component</span> <span class=n>component</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>component</span> <span class=o>=</span> <span class=n>component</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ConcreteDecorator1</span> <span class=kd>extends</span> <span class=n>Decorator</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>ConcreteDecorator1</span><span class=o>(</span><span class=n>Component</span> <span class=n>component</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>(</span><span class=n>component</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>operation</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>component</span><span class=o>.</span><span class=na>operation</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ç¾é¢œ&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ConcreteDecorator2</span> <span class=kd>extends</span> <span class=n>Decorator</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>ConcreteDecorator2</span><span class=o>(</span><span class=n>Component</span> <span class=n>component</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>(</span><span class=n>component</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>operation</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>component</span><span class=o>.</span><span class=na>operation</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;æ»¤é•œ&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=äº«å…ƒæ¨¡å¼flyweight-pattern>äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰<a hidden class=anchor aria-hidden=true href=#äº«å…ƒæ¨¡å¼flyweight-pattern>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * äº«å…ƒæ¨¡å¼ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡
</span></span></span><span class=line><span class=cl><span class=cm> * å€ŸåŠ©å…¨å±€å˜é‡å®Œæˆå¯¹å¯¹è±¡çš„å…±äº«
</span></span></span><span class=line><span class=cl><span class=cm> * å¯¹äºå¤§é‡ç›¸åŒçš„å¯¹è±¡ï¼Œå¯ä»¥èŠ‚çœç³»ç»Ÿå†…å­˜
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @date 2020/3/30 23:58
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>FlyWeightTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>TreeNode</span> <span class=n>treeNode1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeNode</span><span class=o>(</span><span class=mi>3</span><span class=o>,</span> <span class=mi>4</span><span class=o>,</span> <span class=n>TreeFactory</span><span class=o>.</span><span class=na>getTree</span><span class=o>(</span><span class=s>&#34;A&#34;</span><span class=o>,</span> <span class=s>&#34;XXXX&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>TreeNode</span> <span class=n>treeNode2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeNode</span><span class=o>(</span><span class=mi>3</span><span class=o>,</span> <span class=mi>4</span><span class=o>,</span> <span class=n>TreeFactory</span><span class=o>.</span><span class=na>getTree</span><span class=o>(</span><span class=s>&#34;A&#34;</span><span class=o>,</span> <span class=s>&#34;XXXX&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=n>TreeNode</span> <span class=n>treeNode3</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeNode</span><span class=o>(</span><span class=mi>3</span><span class=o>,</span> <span class=mi>4</span><span class=o>,</span> <span class=n>TreeFactory</span><span class=o>.</span><span class=na>getTree</span><span class=o>(</span><span class=s>&#34;B&#34;</span><span class=o>,</span> <span class=s>&#34;XXXX&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>TreeFactory</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=n>HashMap</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>Tree</span><span class=o>&gt;</span> <span class=n>map</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=n>Tree</span> <span class=nf>getTree</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>,</span> <span class=n>String</span> <span class=n>data</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>map</span><span class=o>.</span><span class=na>containsKey</span><span class=o>(</span><span class=n>name</span><span class=o>)){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>map</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>Tree</span> <span class=n>tree</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Tree</span><span class=o>(</span><span class=n>name</span><span class=o>,</span> <span class=n>data</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>map</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>name</span><span class=o>,</span> <span class=n>tree</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>tree</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>TreeNode</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>int</span> <span class=n>x</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>int</span> <span class=n>y</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Tree</span> <span class=n>tree</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>TreeNode</span><span class=o>(</span><span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=n>Tree</span> <span class=n>tree</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>x</span> <span class=o>=</span> <span class=n>x</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>y</span> <span class=o>=</span> <span class=n>y</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>tree</span> <span class=o>=</span> <span class=n>tree</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Tree</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>data</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Tree</span><span class=o>(</span><span class=n>String</span> <span class=n>name</span><span class=o>,</span> <span class=n>String</span> <span class=n>data</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>name</span> <span class=o>=</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>data</span> <span class=o>=</span> <span class=n>data</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;create tree&#34;</span><span class=o>+</span><span class=n>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getName</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getData</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>data</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=ä»£ç†æ¨¡å¼proxy-pattern>ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰<a hidden class=anchor aria-hidden=true href=#ä»£ç†æ¨¡å¼proxy-pattern>#</a></h2><h2 id=é—¨é¢æ¨¡å¼facade-pattern>é—¨é¢æ¨¡å¼ï¼ˆFacade Patternï¼‰<a hidden class=anchor aria-hidden=true href=#é—¨é¢æ¨¡å¼facade-pattern>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>FacadeTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>Facade</span><span class=o>().</span><span class=na>facadeDoSomething</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>client</span><span class=o>{</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Facade</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>facadeDoSomething</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>SubSystem1</span><span class=o>().</span><span class=na>method1</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>SubSystem2</span><span class=o>().</span><span class=na>method2</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>SubSystem3</span><span class=o>().</span><span class=na>method3</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>SubSystem1</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>method1</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;sub system1 method1&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>SubSystem2</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>method2</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;sub system2 method2&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>SubSystem3</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>method3</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;sub system3 method3&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=è¡Œä¸ºå‹æ¨¡å¼>è¡Œä¸ºå‹æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#è¡Œä¸ºå‹æ¨¡å¼>#</a></h1><h2 id=è´£ä»»é“¾æ¨¡å¼chain-of-responsibility-pattern>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰<a hidden class=anchor aria-hidden=true href=#è´£ä»»é“¾æ¨¡å¼chain-of-responsibility-pattern>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Request</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>boolean</span> <span class=n>loggedOn</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>boolean</span> <span class=n>frequentOk</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>boolean</span> <span class=n>isPermits</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>boolean</span> <span class=n>containsSensitiveWords</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=n>requestBody</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Request</span><span class=o>(</span><span class=kt>boolean</span> <span class=n>loggedOn</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>frequentOk</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>isPermits</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>containsSensitiveWords</span><span class=o>,</span> <span class=n>String</span> <span class=n>requestBody</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>loggedOn</span> <span class=o>=</span> <span class=n>loggedOn</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>frequentOk</span> <span class=o>=</span> <span class=n>frequentOk</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>isPermits</span> <span class=o>=</span> <span class=n>isPermits</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>containsSensitiveWords</span> <span class=o>=</span> <span class=n>containsSensitiveWords</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>requestBody</span> <span class=o>=</span> <span class=n>requestBody</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isLoggedOn</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>loggedOn</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setLoggedOn</span><span class=o>(</span><span class=kt>boolean</span> <span class=n>loggedOn</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>loggedOn</span> <span class=o>=</span> <span class=n>loggedOn</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isFrequentOk</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>frequentOk</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setFrequentOk</span><span class=o>(</span><span class=kt>boolean</span> <span class=n>frequentOk</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>frequentOk</span> <span class=o>=</span> <span class=n>frequentOk</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isPermits</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>isPermits</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setPermits</span><span class=o>(</span><span class=kt>boolean</span> <span class=n>permits</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>isPermits</span> <span class=o>=</span> <span class=n>permits</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isContainsSensitiveWords</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>containsSensitiveWords</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setContainsSensitiveWords</span><span class=o>(</span><span class=kt>boolean</span> <span class=n>containsSensitiveWords</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>containsSensitiveWords</span> <span class=o>=</span> <span class=n>containsSensitiveWords</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>getRequestBody</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>requestBody</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setRequestBody</span><span class=o>(</span><span class=n>String</span> <span class=n>requestBody</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>requestBody</span> <span class=o>=</span> <span class=n>requestBody</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Handler</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Handler</span> <span class=n>next</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Handler</span><span class=o>(</span><span class=n>Handler</span> <span class=n>next</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>next</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Handler</span> <span class=nf>getNext</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>next</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setNext</span><span class=o>(</span><span class=n>Handler</span> <span class=n>next</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>next</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>abstract</span> <span class=kt>boolean</span> <span class=nf>process</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>FequentOkHandler</span> <span class=kd>extends</span> <span class=n>Handler</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>FequentOkHandler</span><span class=o>(</span><span class=n>Handler</span> <span class=n>next</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>(</span><span class=n>next</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=nf>process</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=s>&#34;è®¿é—®é¢‘ç‡æ§åˆ¶:&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>request</span><span class=o>.</span><span class=na>isFrequentOk</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ok&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>Handler</span> <span class=n>next</span> <span class=o>=</span> <span class=n>getNext</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=n>next</span> <span class=o>==</span> <span class=kc>null</span><span class=o>){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(!</span><span class=n>next</span><span class=o>.</span><span class=na>process</span><span class=o>(</span><span class=n>request</span><span class=o>)){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;error&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>IsPermitsHandler</span> <span class=kd>extends</span> <span class=n>Handler</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>IsPermitsHandler</span><span class=o>(</span><span class=n>Handler</span> <span class=n>next</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>(</span><span class=n>next</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=nf>process</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=s>&#34;æƒé™è®¿é—®æ§åˆ¶:&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>request</span><span class=o>.</span><span class=na>isPermits</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ok&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>Handler</span> <span class=n>next</span> <span class=o>=</span> <span class=n>getNext</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=n>next</span> <span class=o>==</span> <span class=kc>null</span><span class=o>){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(!</span><span class=n>next</span><span class=o>.</span><span class=na>process</span><span class=o>(</span><span class=n>request</span><span class=o>)){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;error&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>LoggedOnHandler</span> <span class=kd>extends</span> <span class=n>Handler</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>LoggedOnHandler</span><span class=o>(</span><span class=n>Handler</span> <span class=n>next</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>(</span><span class=n>next</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=nf>process</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=s>&#34;ç™»å½•æƒé™æ§åˆ¶:&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>request</span><span class=o>.</span><span class=na>isLoggedOn</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ok&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>Handler</span> <span class=n>next</span> <span class=o>=</span> <span class=n>getNext</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=n>next</span> <span class=o>==</span> <span class=kc>null</span><span class=o>){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(!</span><span class=n>next</span><span class=o>.</span><span class=na>process</span><span class=o>(</span><span class=n>request</span><span class=o>)){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;error&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ContainsSensitiveWordsHandler</span> <span class=kd>extends</span> <span class=n>Handler</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>ContainsSensitiveWordsHandler</span><span class=o>(</span><span class=n>Handler</span> <span class=n>next</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>(</span><span class=n>next</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=nf>process</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=s>&#34;æ•æ„Ÿè¯æƒé™æ§åˆ¶:&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>request</span><span class=o>.</span><span class=na>isContainsSensitiveWords</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ok&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>Handler</span> <span class=n>next</span> <span class=o>=</span> <span class=n>getNext</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=n>next</span> <span class=o>==</span> <span class=kc>null</span><span class=o>){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(!</span><span class=n>next</span><span class=o>.</span><span class=na>process</span><span class=o>(</span><span class=n>request</span><span class=o>)){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;error&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ChainOfResponsibilityTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Request</span> <span class=n>request</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Request</span><span class=o>(</span><span class=kc>true</span><span class=o>,</span> <span class=kc>true</span><span class=o>,</span> <span class=kc>false</span><span class=o>,</span> <span class=kc>true</span><span class=o>,</span> <span class=s>&#34;hha&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>Handler</span> <span class=n>handler</span> <span class=o>=</span> <span class=k>new</span> <span class=n>FequentOkHandler</span><span class=o>(</span><span class=k>new</span> <span class=n>LoggedOnHandler</span><span class=o>(</span><span class=k>new</span> <span class=n>ContainsSensitiveWordsHandler</span><span class=o>(</span><span class=k>new</span> <span class=n>IsPermitsHandler</span><span class=o>(</span><span class=kc>null</span><span class=o>))));</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>handler</span><span class=o>.</span><span class=na>process</span><span class=o>(</span><span class=n>request</span><span class=o>)){</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;å¼€å§‹è¿›è¡Œä¸šåŠ¡å¤„ç†&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span><span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;è¯·æ±‚å¼‚å¸¸&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=å‘½ä»¤æ¨¡å¼command-pattern>å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰<a hidden class=anchor aria-hidden=true href=#å‘½ä»¤æ¨¡å¼command-pattern>#</a></h2><h2 id=è§£é‡Šå™¨æ¨¡å¼interpreter-pattern>è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰<a hidden class=anchor aria-hidden=true href=#è§£é‡Šå™¨æ¨¡å¼interpreter-pattern>#</a></h2><h2 id=è¿­ä»£å™¨æ¨¡å¼iterator-pattern>è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰<a hidden class=anchor aria-hidden=true href=#è¿­ä»£å™¨æ¨¡å¼iterator-pattern>#</a></h2><p>è¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§ç”¨äºé¡ºåºè®¿é—®é›†åˆå¯¹è±¡çš„å…ƒç´ ï¼Œä½†æ˜¯ä¸éœ€è¦çŸ¥é“é›†åˆå¯¹è±¡çš„åº•å±‚è¡¨ç¤ºçš„æ¨¡å¼ã€‚ä¸»è¦ç›®çš„æ˜¯åœ¨ä¸æš´éœ²èšåˆå¯¹è±¡çš„å†…éƒ¨ç»“æ„çš„æƒ…å†µä¸‹ï¼Œè®©å¤–éƒ¨ä»£ç é€æ˜åœ°è®¿é—®èšåˆçš„å†…éƒ¨æ•°æ®ã€‚</p><p>è¿­ä»£å™¨æ¨¡å¼ä¸»è¦åŒ…å«ä»¥ä¸‹è§’è‰²ã€‚</p><ol><li>æŠ½è±¡èšåˆï¼ˆContainerï¼‰è§’è‰²ï¼šå®šä¹‰å­˜å‚¨ã€æ·»åŠ ã€åˆ é™¤èšåˆå¯¹è±¡ä»¥åŠåˆ›å»ºè¿­ä»£å™¨å¯¹è±¡çš„æ¥å£ã€‚</li><li>å…·ä½“èšåˆï¼ˆMyRepositoryï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡èšåˆç±»ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“è¿­ä»£å™¨çš„å®ä¾‹ã€‚</li><li>æŠ½è±¡è¿­ä»£å™¨ï¼ˆIteratorï¼‰è§’è‰²ï¼šå®šä¹‰è®¿é—®å’Œéå†èšåˆå…ƒç´ çš„æ¥å£ï¼Œé€šå¸¸åŒ…å« hasNext()ã€next() ç­‰æ–¹æ³•ã€‚</li><li>å…·ä½“è¿­ä»£å™¨ï¼ˆMyIteratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è¿­ä»£å™¨æ¥å£ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œå®Œæˆå¯¹èšåˆå¯¹è±¡çš„éå†ï¼Œè®°å½•éå†çš„å½“å‰ä½ç½®ã€‚</li></ol><p>ç±»å›¾è¡¨ç¤ºå¦‚ä¸‹ï¼›<div class=post-img-view><a data-fancybox=gallery href=https://cdn.jsdelivr.net/gh/luolin1024/image@main/img/1602230271244-92c98753-4c64-46f1-aabc-eddaf6a58116.png><img src=https://cdn.jsdelivr.net/gh/luolin1024/image@main/img/1602230271244-92c98753-4c64-46f1-aabc-eddaf6a58116.png alt=MyRepository.png></a></div>å…·ä½“å®ç°ä»£ç ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * æ¥å£å®¹å™¨
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>interface</span> <span class=nc>Container</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Iterator</span> <span class=nf>getIterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * æ¥å£è¿­ä»£å™¨
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>interface</span> <span class=nc>Iterator</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=nf>hasNext</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Object</span> <span class=nf>next</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * å…·ä½“å®¹å™¨
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MyRepository</span> <span class=kd>implements</span> <span class=n>Container</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Object</span> <span class=n>arr</span><span class=o>[]</span> <span class=o>=</span> <span class=o>{</span><span class=s>&#34;a&#34;</span><span class=o>,</span> <span class=s>&#34;b&#34;</span><span class=o>,</span> <span class=s>&#34;c&#34;</span><span class=o>};</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Iterator</span> <span class=nf>getIterator</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>MyIterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * å…·ä½“è¿­ä»£å™¨
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>class</span> <span class=nc>MyIterator</span> <span class=kd>implements</span> <span class=n>Iterator</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>index</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>hasNext</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=n>arr</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>Object</span> <span class=nf>next</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=k>this</span><span class=o>.</span><span class=na>hasNext</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>arr</span><span class=o>[</span><span class=n>index</span><span class=o>++];</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * æµ‹è¯•ç±»
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>IteratorTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Container</span> <span class=n>container</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MyRepository</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>Iterator</span> <span class=n>iterator</span> <span class=o>=</span> <span class=n>container</span><span class=o>.</span><span class=na>getIterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>hasNext</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>next</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=ä¸­ä»‹è€…æ¨¡å¼mediator-pattern>ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰<a hidden class=anchor aria-hidden=true href=#ä¸­ä»‹è€…æ¨¡å¼mediator-pattern>#</a></h2><h2 id=å¤‡å¿˜å½•æ¨¡å¼memento-pattern>å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰<a hidden class=anchor aria-hidden=true href=#å¤‡å¿˜å½•æ¨¡å¼memento-pattern>#</a></h2><h2 id=è§‚å¯Ÿè€…æ¨¡å¼observer-pattern>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰<a hidden class=anchor aria-hidden=true href=#è§‚å¯Ÿè€…æ¨¡å¼observer-pattern>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>com.lin.observe_pattern</span><span class=o>;</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.ArrayList</span><span class=o>;</span>  
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.HashMap</span><span class=o>;</span>  
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>  
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.Map</span><span class=o>;</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ObservePatternTest</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>        <span class=n>EventManager</span> <span class=n>eventManager</span> <span class=o>=</span> <span class=k>new</span> <span class=n>EventManager</span><span class=o>(</span><span class=s>&#34;A&#34;</span><span class=o>,</span> <span class=s>&#34;B&#34;</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>        <span class=n>eventManager</span><span class=o>.</span><span class=na>subscribe</span><span class=o>(</span><span class=s>&#34;A&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>ListenerA</span><span class=o>());</span>  
</span></span><span class=line><span class=cl>        <span class=n>eventManager</span><span class=o>.</span><span class=na>subscribe</span><span class=o>(</span><span class=s>&#34;A&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>ListenerB</span><span class=o>());</span>  
</span></span><span class=line><span class=cl>        <span class=n>eventManager</span><span class=o>.</span><span class=na>subscribe</span><span class=o>(</span><span class=s>&#34;B&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>ListenerA</span><span class=o>());</span>  
</span></span><span class=line><span class=cl>        <span class=n>eventManager</span><span class=o>.</span><span class=na>subscribe</span><span class=o>(</span><span class=s>&#34;B&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>ListenerB</span><span class=o>());</span>  
</span></span><span class=line><span class=cl>        <span class=n>eventManager</span><span class=o>.</span><span class=na>notify</span><span class=o>(</span><span class=s>&#34;B&#34;</span><span class=o>,</span> <span class=s>&#34;æ”¹å˜ä¸–ç•Œ&#34;</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl><span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>EventManager</span><span class=o>{</span>  
</span></span><span class=line><span class=cl>    <span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>EventListener</span><span class=o>&gt;&gt;</span> <span class=n>listeners</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;();</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>EventManager</span><span class=o>(</span><span class=n>String</span><span class=o>...</span> <span class=n>operations</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=n>String</span> <span class=n>operation</span> <span class=o>:</span> <span class=n>operations</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=o>.</span><span class=na>listeners</span><span class=o>.</span><span class=na>put</span><span class=o>(</span><span class=n>operation</span><span class=o>,</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;());</span>  
</span></span><span class=line><span class=cl>        <span class=o>}</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>subscribe</span><span class=o>(</span><span class=n>String</span> <span class=n>eventType</span><span class=o>,</span> <span class=n>EventListener</span> <span class=n>listener</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=o>&lt;</span><span class=n>EventListener</span><span class=o>&gt;</span> <span class=n>users</span> <span class=o>=</span> <span class=n>listeners</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>eventType</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>        <span class=n>users</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>listener</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>unsubscribe</span><span class=o>(</span><span class=n>String</span> <span class=n>eventType</span><span class=o>,</span> <span class=n>EventListener</span> <span class=n>listener</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=o>&lt;</span><span class=n>EventListener</span><span class=o>&gt;</span> <span class=n>users</span> <span class=o>=</span> <span class=n>listeners</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>eventType</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>        <span class=n>users</span><span class=o>.</span><span class=na>remove</span><span class=o>(</span><span class=n>listener</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>notify</span><span class=o>(</span><span class=n>String</span> <span class=n>eventType</span><span class=o>,</span> <span class=n>String</span> <span class=n>msg</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=o>&lt;</span><span class=n>EventListener</span><span class=o>&gt;</span> <span class=n>users</span> <span class=o>=</span> <span class=n>listeners</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>eventType</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=n>EventListener</span> <span class=n>listener</span> <span class=o>:</span> <span class=n>users</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>            <span class=n>listener</span><span class=o>.</span><span class=na>comsumer</span><span class=o>(</span><span class=n>eventType</span><span class=o>,</span> <span class=n>msg</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>        <span class=o>}</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=cm>/**  
</span></span></span><span class=line><span class=cl><span class=cm> * é€šç”¨è§‚å¯Ÿè€…æ¥å£,å®šä¹‰comsumeræ–¹æ³•ï¼Œæ¶ˆè´¹é€šçŸ¥çš„æ¶ˆæ¯  
</span></span></span><span class=line><span class=cl><span class=cm> */</span>  
</span></span><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>EventListener</span><span class=o>{</span>  
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>comsumer</span><span class=o>(</span><span class=n>String</span> <span class=n>eventType</span><span class=o>,</span> <span class=n>String</span> <span class=n>msg</span><span class=o>);</span>  
</span></span><span class=line><span class=cl><span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ListenerA</span> <span class=kd>implements</span> <span class=n>EventListener</span><span class=o>{</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>  
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>comsumer</span><span class=o>(</span><span class=n>String</span> <span class=n>eventType</span><span class=o>,</span> <span class=n>String</span> <span class=n>msg</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ListenerAæ”¶åˆ°é€šçŸ¥:&#34;</span><span class=o>+</span><span class=n>eventType</span><span class=o>+</span><span class=s>&#34;-&#34;</span><span class=o>+</span><span class=n>msg</span><span class=o>+</span><span class=s>&#34;,å‡†å¤‡xxx&#34;</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl><span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ListenerB</span> <span class=kd>implements</span> <span class=n>EventListener</span><span class=o>{</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>  
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>comsumer</span><span class=o>(</span><span class=n>String</span> <span class=n>eventType</span><span class=o>,</span> <span class=n>String</span> <span class=n>msg</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ListenerBæ”¶åˆ°é€šçŸ¥:&#34;</span><span class=o>+</span><span class=n>eventType</span><span class=o>+</span><span class=s>&#34;-&#34;</span><span class=o>+</span><span class=n>msg</span><span class=o>+</span><span class=s>&#34;,å‡†å¤‡yyy&#34;</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=çŠ¶æ€æ¨¡å¼state-pattern>çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰<a hidden class=anchor aria-hidden=true href=#çŠ¶æ€æ¨¡å¼state-pattern>#</a></h2><h2 id=ç©ºå¯¹è±¡æ¨¡å¼null-object-pattern>ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰<a hidden class=anchor aria-hidden=true href=#ç©ºå¯¹è±¡æ¨¡å¼null-object-pattern>#</a></h2><h2 id=ç­–ç•¥æ¨¡å¼strategy-pattern>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰<a hidden class=anchor aria-hidden=true href=#ç­–ç•¥æ¨¡å¼strategy-pattern>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>StrategyTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Animal</span> <span class=n>dog</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Dog</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>dog</span><span class=o>.</span><span class=na>move</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>dog</span><span class=o>.</span><span class=na>setMoveable</span><span class=o>(</span><span class=k>new</span> <span class=n>DogMove</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>dog</span><span class=o>.</span><span class=na>move</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>Moveable</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>move</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>Attackable</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>attack</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Runable</span> <span class=kd>implements</span> <span class=n>Moveable</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>move</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;------ run -----&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>DogMove</span> <span class=kd>implements</span> <span class=n>Moveable</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>move</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ç‹—æ‘‡ç€å°¾å·´ç§»åŠ¨&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Animal</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Moveable</span> <span class=n>moveable</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Attackable</span> <span class=n>attackable</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Animal</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Animal</span><span class=o>(</span><span class=n>Moveable</span> <span class=n>moveable</span><span class=o>,</span> <span class=n>Attackable</span> <span class=n>attackable</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>moveable</span> <span class=o>=</span> <span class=n>moveable</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>attackable</span> <span class=o>=</span> <span class=n>attackable</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>abstract</span> <span class=kd>public</span> <span class=kt>void</span> <span class=nf>display</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>move</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>attack</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Moveable</span> <span class=nf>getMoveable</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>moveable</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setMoveable</span><span class=o>(</span><span class=n>Moveable</span> <span class=n>moveable</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>moveable</span> <span class=o>=</span> <span class=n>moveable</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Attackable</span> <span class=nf>getAttackable</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>attackable</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setAttackable</span><span class=o>(</span><span class=n>Attackable</span> <span class=n>attackable</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>attackable</span> <span class=o>=</span> <span class=n>attackable</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Dog</span> <span class=kd>extends</span> <span class=n>Animal</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Dog</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>(</span><span class=k>new</span> <span class=n>Runable</span><span class=o>(),</span> <span class=kc>null</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Dog</span><span class=o>(</span><span class=n>Moveable</span> <span class=n>moveable</span><span class=o>,</span> <span class=n>Attackable</span> <span class=n>attackable</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>super</span><span class=o>(</span><span class=n>moveable</span><span class=o>,</span> <span class=n>attackable</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>display</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;------ ç‹— ----------&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>move</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>moveable</span><span class=o>.</span><span class=na>move</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>attack</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>attackable</span><span class=o>.</span><span class=na>attack</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=æ¨¡æ¿æ¨¡å¼template-pattern>æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰<a hidden class=anchor aria-hidden=true href=#æ¨¡æ¿æ¨¡å¼template-pattern>#</a></h2><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„ç›®çš„å°±æ˜¯åœ¨ä¸æ”¹å˜ç°æœ‰ç±»çš„ç®—æ³•ç»“æ„ä¸‹ï¼Œå°†ä¸€äº›å…·ä½“æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œ</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * æ¨¡å¼å®šä¹‰ï¼š
</span></span></span><span class=line><span class=cl><span class=cm> * å®šä¹‰ä¸€ä¸ªæ“ä½œçš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚
</span></span></span><span class=line><span class=cl><span class=cm> * Template Method ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * Servlet Api &amp; Springä¸­çš„åº”ç”¨
</span></span></span><span class=line><span class=cl><span class=cm> * javax.servlet.http.HttpServlet
</span></span></span><span class=line><span class=cl><span class=cm> * org.springframework.web.servlet.mvc.AbstractController
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author 2493468168@qq.com
</span></span></span><span class=line><span class=cl><span class=cm> * @date 2020/3/22 14:55
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>TemplateMethodTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>AbstractClass</span> <span class=n>abstractClass</span> <span class=o>=</span> <span class=k>new</span> <span class=n>SubClass</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>abstractClass</span><span class=o>.</span><span class=na>operate</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;--------------&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>AbstractClass</span> <span class=n>abstractClass2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>SubClass2</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>abstractClass2</span><span class=o>.</span><span class=na>operate</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>         * pre...
</span></span></span><span class=line><span class=cl><span class=cm>         * step1..
</span></span></span><span class=line><span class=cl><span class=cm>         * templateMethod1()
</span></span></span><span class=line><span class=cl><span class=cm>         * step final...
</span></span></span><span class=line><span class=cl><span class=cm>         * --------------
</span></span></span><span class=line><span class=cl><span class=cm>         * pre...
</span></span></span><span class=line><span class=cl><span class=cm>         * step1..
</span></span></span><span class=line><span class=cl><span class=cm>         * templateMethod2()
</span></span></span><span class=line><span class=cl><span class=cm>         * step final...
</span></span></span><span class=line><span class=cl><span class=cm>         */</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>AbstractClass</span><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>operate</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;pre...&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;step1..&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>templateMethod</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;step final...&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>templateMethod</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>SubClass</span> <span class=kd>extends</span> <span class=n>AbstractClass</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>templateMethod</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;templateMethod1()&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>SubClass2</span> <span class=kd>extends</span> <span class=n>AbstractClass</span><span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>templateMethod</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;templateMethod2()&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=è®¿é—®è€…æ¨¡å¼visitor-pattern>è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰<a hidden class=anchor aria-hidden=true href=#è®¿é—®è€…æ¨¡å¼visitor-pattern>#</a></h2><p>å‚è€ƒèµ„æ–™ï¼š
<a href=https://refactoringguru.cn/design-patterns/catalog>è®¾è®¡æ¨¡å¼ç›®å½•ï¼š22ç§è®¾è®¡æ¨¡å¼ (refactoringguru.cn)</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://luolin1024.github.io/tags/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/>Java/è®¾è®¡æ¨¡å¼</a></li></ul><nav class=paginav><a class=prev href=https://luolin1024.github.io/blog_prepublish/%E9%9D%A2%E8%AF%95/java/><span class=title>Â« Prev</span><br><span>JavaçŸ¥è¯†</span></a>
<a class=next href=https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/hashtable/><span class=title>Next Â»</span><br><span>HashTable</span></a></nav><div class=related-posts><h2>ç›¸å…³æ–‡ç« </h2><ul><li>Â· <a href=/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%88%A9%E7%94%A8%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E5%92%8C%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BC%98%E5%8C%96%E4%BB%A3%E7%A0%81%E4%B8%AD%E8%BF%87%E5%A4%9A%E7%9A%84if-else%E6%80%9D%E8%B7%AF/>åˆ©ç”¨ç­–ç•¥æ¨¡å¼å’Œå·¥å‚æ¨¡å¼ä¼˜åŒ–ä»£ç ä¸­è¿‡å¤šçš„if-elseæ€è·¯</a></li></ul></div></footer><link rel=stylesheet href=https://unpkg.com/@waline/client@v2/dist/waline.css><div id=waline></div><script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';
    const locale = {
        nick: 'æ˜µç§°',
        nickError: 'è¯·å¡«å†™æ˜µç§°',
        mail: 'é‚®ç®±',
        mailError: 'è¯·å¡«å†™æ­£ç¡®çš„é‚®ä»¶åœ°å€',
        link: 'ç½‘å€',
        optional: 'å¯é€‰',
        placeholder: 'ä»…å¡«å†™æ˜µç§°å³å¯å‘è¡¨å›å¤ã€‚\nå¡«å†™é‚®ç®±å¯æ”¶åˆ°å›å¤æé†’ã€‚\nè¯„è®ºåŒºæ”¯æŒ Markdown è¯­æ³•åŠé¢„è§ˆã€‚\n',
        sofa: 'æ¥å‘è¯„è®ºå§~',
        submit: 'æäº¤',
        like: 'å–œæ¬¢',
        cancelLike: 'å–æ¶ˆå–œæ¬¢',
        reply: 'å›å¤',
        cancelReply: 'å–æ¶ˆå›å¤',
        comment: 'è¯„è®º',
        refresh: 'åˆ·æ–°',
        more: 'åŠ è½½æ›´å¤š...',
        preview: 'é¢„è§ˆ',
        emoji: 'è¡¨æƒ…',
        uploadImage: 'ä¸Šä¼ å›¾ç‰‡',
        seconds: 'ç§’å‰',
        minutes: 'åˆ†é’Ÿå‰',
        hours: 'å°æ—¶å‰',
        days: 'å¤©å‰',
        now: 'åˆšåˆš',
        uploading: 'æ­£åœ¨ä¸Šä¼ ',
        login: 'ç®¡ç†',
        logout: 'é€€å‡º',
        admin: 'åšä¸»',
        sticky: 'ç½®é¡¶',
        word: 'å­—',
        wordHint: 'è¯„è®ºå­—æ•°åº”åœ¨ $0 åˆ° $1 å­—ä¹‹é—´ï¼\nå½“å‰å­—æ•°ï¼š$2',
        anonymous: 'åŒ¿å',
        level0: 'æ½œæ°´',
        level1: 'å†’æ³¡',
        level2: 'åæ§½',
        level3: 'æ´»è·ƒ',
        level4: 'è¯ç—¨',
        level5: 'ä¼ è¯´',
        gif: 'è¡¨æƒ…åŒ…',
        gifSearchPlaceholder: 'æœç´¢è¡¨æƒ…åŒ…',
        profile: 'ä¸ªäººèµ„æ–™',
        approved: 'é€šè¿‡',
        waiting: 'å¾…å®¡æ ¸',
        spam: 'åƒåœ¾',
        unsticky: 'å–æ¶ˆç½®é¡¶',
        oldest: 'æŒ‰å€’åº',
        latest: 'æŒ‰æ­£åº',
        hottest: 'æŒ‰çƒ­åº¦',
        reactionTitle: 'ä½ è®¤ä¸ºè¿™ç¯‡æ–‡ç« æ€ä¹ˆæ ·ï¼Ÿ',
    };
    init({
        
        el: '#waline',
        serverURL: 'https://blogcomments.luolin.online',
        locale,
        emoji: false,     
        search: false,    
        reaction: false,  
        requiredMeta: ['nick'],
        pageSize: 10,
        imageUploader: false,
        copyright: true,
        pageview: true,
        like: false,
    });
</script></article></main><footer class=footer><span>&copy; 2025 <a href=https://luolin1024.github.io>luolin1024</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div>æœ¬ç«™æ€»è®¿é—®é‡ <span id=umami_value_site_pv></span> æ¬¡
æœ¬ç«™æ€»è®¿å®¢æ•° <span id=umami_value_site_uv></span> äºº
å½“å‰åœ¨çº¿è®¿å®¢ <span id=umami_value_active_uv></span> äºº</div><a href="https://icp.gov.moe/?keyword=20248618" target=_blank>èŒICPå¤‡20248618å·</a></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>