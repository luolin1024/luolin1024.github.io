<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Java Set | luolin1024</title><meta name=keywords content="Java/æ•°æ®ç»“æ„"><meta name=description content="Setæ¥å£ HashSetã€LinkedHashSetã€TreeSet HashSetæ˜¯Setæ¥å£çš„å…¸å‹å®ç°ï¼Œå¤§å¤šæ•°æ—¶å€™Seté›†åˆéƒ½ä½¿ç”¨è¿™ä¸ªå®ç°"><meta name=author content="luolin"><link rel=canonical href=https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java-set/><script defer src=https://blogcounter.luolin.us.kg/script.js data-website-id=c8850e2c-16aa-465e-aa6f-5392c9397317></script>
<script src=/js/umami-stats.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script>
<link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://luolin1024.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://luolin1024.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://luolin1024.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://luolin1024.github.io/apple-touch-icon.png><link rel=mask-icon href=https://luolin1024.github.io/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><html><head><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css><style>body{font-family:lxgw wenkai lite,sans-serif;font-family:lxgw wenkai screen,sans-serif}</style></head></html><meta property="og:title" content="Java Set"><meta property="og:description" content="Setæ¥å£ HashSetã€LinkedHashSetã€TreeSet HashSetæ˜¯Setæ¥å£çš„å…¸å‹å®ç°ï¼Œå¤§å¤šæ•°æ—¶å€™Seté›†åˆéƒ½ä½¿ç”¨è¿™ä¸ªå®ç°"><meta property="og:type" content="article"><meta property="og:url" content="https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java-set/"><meta property="article:section" content="blog_prepublish"><meta property="article:published_time" content="2023-02-11T00:32:19+08:00"><meta property="article:modified_time" content="2024-03-21T00:57:06+08:00"><meta property="og:site_name" content="luolinçš„åšå®¢"><meta name=twitter:card content="summary"><meta name=twitter:title content="Java Set"><meta name=twitter:description content="Setæ¥å£ HashSetã€LinkedHashSetã€TreeSet HashSetæ˜¯Setæ¥å£çš„å…¸å‹å®ç°ï¼Œå¤§å¤šæ•°æ—¶å€™Seté›†åˆéƒ½ä½¿ç”¨è¿™ä¸ªå®ç°"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog_prepublishes","item":"https://luolin1024.github.io/blog_prepublish/"},{"@type":"ListItem","position":2,"name":"Java Set","item":"https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java-set/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Java Set","name":"Java Set","description":"Setæ¥å£ HashSetã€LinkedHashSetã€TreeSet HashSetæ˜¯Setæ¥å£çš„å…¸å‹å®ç°ï¼Œå¤§å¤šæ•°æ—¶å€™Seté›†åˆéƒ½ä½¿ç”¨è¿™ä¸ªå®ç°","keywords":["Java/æ•°æ®ç»“æ„"],"articleBody":"Setæ¥å£ HashSetã€LinkedHashSetã€TreeSet HashSetæ˜¯Setæ¥å£çš„å…¸å‹å®ç°ï¼Œå¤§å¤šæ•°æ—¶å€™Seté›†åˆéƒ½ä½¿ç”¨è¿™ä¸ªå®ç°ç±»ã€‚HashSetæ˜¯æŒ‰Hashç®—æ³•æ¥å­˜å‚¨é›†åˆä¸­çš„å…ƒç´ ï¼Œå› æ­¤å…·æœ‰å¾ˆå¥½çš„å­˜å–ã€æŸ¥æ‰¾ã€åˆ é™¤æ€§èƒ½ã€‚åº•å±‚å°±æ˜¯HashMap;HashSetå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šä¸èƒ½ä¿è¯å…ƒç´ çš„æ’åˆ—é¡ºåºï¼›HashSetä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›é›†åˆå…ƒç´ å¯ä»¥æ˜¯nullï¼›HashSeté›†åˆåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡hashCode()æ–¹æ³•æ¯”è¾ƒç›¸ç­‰ï¼Œå¹¶ä¸”ä¸¤ä¸ªå¯¹è±¡çš„equals()æ–¹æ³•è¿”å›å€¼ä¹Ÿç›¸ç­‰ã€‚å¯¹äºå­˜æ”¾åœ¨Setå®¹å™¨ä¸­çš„å¯¹è±¡ï¼Œå¯¹åº”çš„ç±»ä¸€å®šè¦é‡å†™equals()å’ŒhashCode()æ–¹æ³•ï¼Œä»¥å®ç°å¯¹è±¡ç›¸ç­‰è§„åˆ™ã€‚æ—¢â€œç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸åŒçš„hashCodeâ€ LinkedHashSetæ˜¯HaseSetçš„å­ç±»LinkedHashSetæ ¹æ®å…ƒç´ çš„hashCodeå€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼Œä½†å®ƒåŒæ—¶ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åºï¼Œè¿™ä½¿å¾—å…ƒç´ çœ‹èµ·æ¥æ˜¯ä»¥æ’å…¥é¡ºåºä¿å­˜çš„ã€‚LinkedHashSetæ’å…¥æ€§èƒ½ç•¥ä½äºHashSetï¼Œä½†åœ¨è¿­ä»£è®¿é—®Seté‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶æœ‰å¾ˆå¥½çš„æ€§èƒ½ã€‚LinkedHashSetä¸å…è®¸é›†åˆå…ƒç´ é‡å¤ã€‚ TreeSetæ˜¯SortedSetæ¥å£çš„å®ç°ç±»ï¼ŒTreeSetå¯ä»¥ç¡®ä¿é›†åˆå…ƒç´ å¤„äºæ’åºçŠ¶æ€ã€‚TreeSetåº•å±‚å°±æ˜¯TreeMapï¼Œè€ŒTreeMapåº•å±‚ä½¿ç”¨çº¢é»‘æ ‘ç»“æ„ï¼ˆJDK1.8ä»¥åï¼‰å­˜å‚¨key,TreeSetåªæ˜¯ä½¿ç”¨TreeMapçš„keyTreeSetä¸¤ç§æ’åºæ–¹æ³•ï¼šè‡ªç„¶æ’åºå’ŒComparetoræ¯”è¾ƒå™¨æ’åºï¼Œé»˜è®¤ä½¿ç”¨è‡ªç„¶æ’åºã€‚ HashSet HashSetçš„åº•å±‚åˆå§‹åŒ–ï¼š\nprivate transient HashMap\u003cE,Object\u003e map; public HashSet() { map = new HashMap\u003c\u003e(); } public HashSet(Collection\u003c? extends E\u003e c) { map = new HashMap\u003c\u003e(Math.max((int) (c.size()/.75f) + 1, 16)); addAll(c); } public HashSet(int initialCapacity, float loadFactor) { map = new HashMap\u003c\u003e(initialCapacity, loadFactor); } public HashSet(int initialCapacity) { map = new HashMap\u003c\u003e(initialCapacity); } å¯ä»¥çœ‹åˆ°HashSetåº•å±‚å°±æ˜¯ä¸€ä¸ªHashMapï¼Œé‚£è¿™é‡Œå°±ä¸å¤šå…³äºHashMapçš„ä¸œè¥¿ï¼Œä¸»è¦çœ‹ä¸‹å¯¹HashSetçš„æµ‹è¯•:\n@Test public void test6(){ Set\u003cEmployee\u003e set = new HashSet\u003c\u003e(10); System.out.println(set.size()); for(int i = 0; i \u003c 5; i++){ set.add(new Employee(\"test\",(i%2 == 0) ? 2 : 1,(i%2 == 0) ? 2 : 1)); } Iterator\u003cEmployee\u003e iterator = set.iterator(); while (iterator.hasNext()){ Employee employee = iterator.next(); System.out.println(employee); } /** * æ‰“å°ç»“æœï¼š * 0 * run hashCode ... * run hashCode ... * run hashCode ... * run equals().... * run hashCode ... * run equals().... * run hashCode ... * run equals().... * Employee{name='test', age=2, salary=2} * Employee{name='test', age=1, salary=1} * 2 */ /** * Employeeçš„equals()é‡å†™æ—¶åŠ äº†ä¸€å¥: * System.out.println(\"run equals()....\"); * Employeeçš„hashCode()é‡å†™æ—¶åŠ äº†ä¸€å¥: * System.out.println(\"run hashCode ... \"); * ä¸Šé¢å¯¹Listè¿›è¡Œæµ‹è¯•çš„æ—¶å€™ä¹ŸåŠ äº†ã€‚ã€‚ã€‚ */ } ä»ä¸Šé¢çš„æ‰“å°ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œåˆå§‹åŒ–åsetçš„sizeä¸º0ï¼Œåé¢æ¯æ¬¡æ·»åŠ ä¸€ä¸ªå…ƒç´ sizeéƒ½ä¼šå¢é•¿1ï¼Œè€Œå†æ·»åŠ è¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°hashCodeç›¸åŒæƒ…å†µä¸‹ä¼šè¿›è¡Œequalsåˆ¤æ–­ï¼Œå…ƒç´ å†…çš„å€¼ç›¸åŒä¼šå¯¼è‡´æ·»åŠ å¤±è´¥ã€‚æ‰€ä»¥æœ€ç»ˆsetä¸­åªæœ‰2ä¸ªå…ƒç´ ã€‚\nLinkedHashSet LinkedHashSetçš„åº•å±‚åˆå§‹åŒ–ï¼š\npublic class LinkedHashSet\u003cE\u003e extends HashSet\u003cE\u003e implements Set\u003cE\u003e, Cloneable, java.io.Serializable { public LinkedHashSet(int initialCapacity, float loadFactor) { super(initialCapacity, loadFactor, true); } public LinkedHashSet(int initialCapacity) { super(initialCapacity, .75f, true); } public LinkedHashSet() { super(16, .75f, true); } public LinkedHashSet(Collection\u003c? extends E\u003e c) { super(Math.max(2*c.size(), 11), .75f, true); addAll(c); } } çˆ¶ç±»HashSetä¸‹çš„å¸¦æœ‰ä¸‰ä¸ªå‚æ•°çš„æ„é€ å™¨ï¼š\nHashSet(int initialCapacity, float loadFactor, boolean dummy) { map = new LinkedHashMap\u003c\u003e(initialCapacity, loadFactor); } æ˜¾ç„¶ï¼ŒLinkedHashSetåº•å±‚æ˜¯ä½¿ç”¨LinkedHashMapå®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¸¦æœ‰LinkedHashMapçš„ç‰¹ç‚¹â€”â€”å¯ä»¥æ‰¾åˆ°æ·»åŠ è¿‡ç¨‹ä¸­çš„å‰åå…ƒç´ ã€‚å…·ä½“å¯ä»¥çœ‹LinkedHashMap\nTreeSet TreeSetçš„åº•å±‚åˆå§‹åŒ–ï¼š\npublic TreeSet() { this(new TreeMap\u003cE,Object\u003e()); } public TreeSet(Comparator\u003c? super E\u003e comparator) { this(new TreeMap\u003c\u003e(comparator)); } public TreeSet(Collection\u003c? extends E\u003e c) { this(); addAll(c); } public TreeSet(SortedSet\u003cE\u003e s) { this(s.comparator()); addAll(s); } ä½¿ç”¨TreeSetï¼š\n@Test public void test7(){ Set\u003cEmployee\u003e set = new TreeSet\u003c\u003e(); for(int i = 0; i \u003c 5; i++){ set.add(new Employee(\"test\",i,i)); } Iterator\u003cEmployee\u003e iterator = set.iterator(); while (iterator.hasNext()){ Employee employee = iterator.next(); System.out.println(employee); } /** * æŠ¥é”™: * java.lang.ClassCastException: com.chapter12_collection.Employee cannot be cast to java.lang.Comparable * * at java.util.TreeMap.compare(TreeMap.java:1294) * at java.util.TreeMap.put(TreeMap.java:538) * at java.util.TreeSet.add(TreeSet.java:255) * at com.chapter12_collection.CollectionTest.test7(CollectionTest.java:115) * at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) * ... */ } å‘ç°å¿…é¡»å¾—æŠŠEmployeeè½¬æˆComparableï¼Œé‚£ä¹ˆå°±è®©Employeeå®ç°Comparableæ¥å£å‘—ã€‚äºæ˜¯ä¹é‡å†™é‡Œé¢çš„compareToï¼ˆï¼‰æ–¹æ³•ï¼š\n// å…ˆæŒ‰nameæ’åºï¼Œå†æŒ‰ageæ’åº @Override public int compareTo(Object o) { if(o instanceof Employee){ Employee employee = (Employee) o; if(this.name == employee.getName()){ return Integer.compare(this.age, employee.getAge()); }else { return this.name.compareTo(employee.getName()); } }else { throw new RuntimeException(\"è¾“å…¥çš„ç±»å‹ä¸æ˜¯Employee\"); } } å†æ¥è·‘æµ‹è¯•ä»£ç ï¼š\n@Test public void test7(){ Set\u003cEmployee\u003e set = new TreeSet\u003c\u003e(); for(int i = 5; i \u003e 0; i--){ set.add(new Employee(\"test\"+i,i,i)); } Iterator\u003cEmployee\u003e iterator = set.iterator(); while (iterator.hasNext()){ Employee employee = iterator.next(); System.out.println(employee); } /** * æ‰“å°ç»“æœï¼š * Employee{name='test1', age=1, salary=1} * Employee{name='test2', age=2, salary=2} * Employee{name='test3', age=3, salary=3} * Employee{name='test4', age=4, salary=4} * Employee{name='test5', age=5, salary=5} */ } æ˜¾ç„¶ï¼Œæ­¤æ—¶æ˜¯æŒ‰ç…§nameä»å°åˆ°å¤§æ’åºçš„ï¼Œè€Œæˆ‘ä»¬æ’å…¥çš„æ—¶å€™æ˜¯ä»å¤§åˆ°å°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´TreeSetæ˜¯å¯ä»¥å®ç°Comparableæ¯”è¾ƒå™¨æ’åºçš„ï¼Œå…³äºè‡ªç„¶æ’åºå°±çœ‹ä¸‹ä¸‹é¢è¿™æ®µä»£ç å§ï¼š\n@Test public void test8(){ Set\u003cInteger\u003e set = new TreeSet\u003c\u003e(); set.add(11); set.add(-1); set.add(33); set.add(22); set.add(44); Iterator\u003cInteger\u003e iterator = set.iterator(); while (iterator.hasNext()){ System.out.print(iterator.next() + \" \"); } /** * æ‰“å°ç»“æœï¼š * -1 11 22 33 44 */ } ","wordCount":"1766","inLanguage":"en","datePublished":"2023-02-11T00:32:19+08:00","dateModified":"2024-03-21T00:57:06+08:00","author":{"@type":"Person","name":"luolin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java-set/"},"publisher":{"@type":"Organization","name":"luolin1024","logo":{"@type":"ImageObject","url":"https://luolin1024.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://luolin1024.github.io accesskey=h title="luolinçš„åšå®¢ (Alt + H)">luolinçš„åšå®¢</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://luolin1024.github.io/posts title=ğŸ“šæ–‡ç« ><span>ğŸ“šæ–‡ç« </span></a></li><li><a href=https://luolin1024.github.io/archives/ title=â±æ—¶é—´è½´><span>â±æ—¶é—´è½´</span></a></li><li><a href=https://luolin1024.github.io/search/ title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://luolin1024.github.io/tags title=ğŸ”–æ ‡ç­¾><span>ğŸ”–æ ‡ç­¾</span></a></li><li><a href=https://luolin1024.github.io/about title=ğŸ™‹ğŸ»â€â™‚ï¸å…³äº><span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span></a></li><li><a href=https://luolin1024.github.io/links title=ğŸ¤å‹é“¾><span>ğŸ¤å‹é“¾</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://luolin1024.github.io>Home</a>&nbsp;Â»&nbsp;<a href=https://luolin1024.github.io/blog_prepublish/>Blog_prepublishes</a></div><h1 class="post-title entry-hint-parent">Java Set</h1><div class=post-meta><span title='2023-02-11 00:32:19 +0800 +0800'>2023-02-11</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;1766 words&nbsp;Â·&nbsp;luolin
æœ¬æ–‡æ€»é˜…è¯»é‡ <span id=umami_value_page_pv></span> æ¬¡
æœ¬æ–‡æ€»è®¿å®¢é‡ <span id=umami_value_page_uv></span> äºº</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#set%e6%8e%a5%e5%8f%a3 aria-label=Setæ¥å£>Setæ¥å£</a><ul><li><a href=#hashsetlinkedhashsettreeset aria-label=HashSetã€LinkedHashSetã€TreeSet>HashSetã€LinkedHashSetã€TreeSet</a></li><li><a href=#hashset aria-label=HashSet>HashSet</a></li><li><a href=#linkedhashset aria-label=LinkedHashSet>LinkedHashSet</a></li><li><a href=#treeset aria-label=TreeSet>TreeSet</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h3 id=setæ¥å£>Setæ¥å£<a hidden class=anchor aria-hidden=true href=#setæ¥å£>#</a></h3><h4 id=hashsetlinkedhashsettreeset>HashSetã€LinkedHashSetã€TreeSet<a hidden class=anchor aria-hidden=true href=#hashsetlinkedhashsettreeset>#</a></h4><ul><li>HashSetæ˜¯Setæ¥å£çš„å…¸å‹å®ç°ï¼Œå¤§å¤šæ•°æ—¶å€™Seté›†åˆéƒ½ä½¿ç”¨è¿™ä¸ªå®ç°ç±»ã€‚HashSetæ˜¯æŒ‰Hashç®—æ³•æ¥å­˜å‚¨é›†åˆä¸­çš„å…ƒç´ ï¼Œå› æ­¤å…·æœ‰å¾ˆå¥½çš„å­˜å–ã€æŸ¥æ‰¾ã€åˆ é™¤æ€§èƒ½ã€‚åº•å±‚å°±æ˜¯HashMap;HashSetå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šä¸èƒ½ä¿è¯å…ƒç´ çš„æ’åˆ—é¡ºåºï¼›HashSetä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›é›†åˆå…ƒç´ å¯ä»¥æ˜¯nullï¼›HashSeté›†åˆåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡hashCode()æ–¹æ³•æ¯”è¾ƒç›¸ç­‰ï¼Œå¹¶ä¸”ä¸¤ä¸ªå¯¹è±¡çš„equals()æ–¹æ³•è¿”å›å€¼ä¹Ÿç›¸ç­‰ã€‚å¯¹äºå­˜æ”¾åœ¨Setå®¹å™¨ä¸­çš„å¯¹è±¡ï¼Œå¯¹åº”çš„ç±»ä¸€å®šè¦é‡å†™equals()å’ŒhashCode()æ–¹æ³•ï¼Œä»¥å®ç°å¯¹è±¡ç›¸ç­‰è§„åˆ™ã€‚æ—¢â€œç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸åŒçš„hashCodeâ€</li><li>LinkedHashSetæ˜¯HaseSetçš„å­ç±»LinkedHashSetæ ¹æ®å…ƒç´ çš„hashCodeå€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼Œä½†å®ƒåŒæ—¶ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åºï¼Œè¿™ä½¿å¾—å…ƒç´ çœ‹èµ·æ¥æ˜¯ä»¥æ’å…¥é¡ºåºä¿å­˜çš„ã€‚LinkedHashSetæ’å…¥æ€§èƒ½ç•¥ä½äºHashSetï¼Œä½†åœ¨è¿­ä»£è®¿é—®Seté‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶æœ‰å¾ˆå¥½çš„æ€§èƒ½ã€‚LinkedHashSetä¸å…è®¸é›†åˆå…ƒç´ é‡å¤ã€‚</li><li>TreeSetæ˜¯SortedSetæ¥å£çš„å®ç°ç±»ï¼ŒTreeSetå¯ä»¥ç¡®ä¿é›†åˆå…ƒç´ å¤„äºæ’åºçŠ¶æ€ã€‚TreeSetåº•å±‚å°±æ˜¯TreeMapï¼Œè€ŒTreeMapåº•å±‚ä½¿ç”¨çº¢é»‘æ ‘ç»“æ„ï¼ˆJDK1.8ä»¥åï¼‰å­˜å‚¨key,TreeSetåªæ˜¯ä½¿ç”¨TreeMapçš„keyTreeSetä¸¤ç§æ’åºæ–¹æ³•ï¼šè‡ªç„¶æ’åºå’ŒComparetoræ¯”è¾ƒå™¨æ’åºï¼Œé»˜è®¤ä½¿ç”¨è‡ªç„¶æ’åºã€‚</li></ul><h4 id=hashset>HashSet<a hidden class=anchor aria-hidden=true href=#hashset>#</a></h4><p>HashSetçš„åº•å±‚åˆå§‹åŒ–ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>private</span> <span class=kd>transient</span> <span class=n>HashMap</span><span class=o>&lt;</span><span class=n>E</span><span class=o>,</span><span class=n>Object</span><span class=o>&gt;</span> <span class=n>map</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=nf>HashSet</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>map</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=nf>HashSet</span><span class=o>(</span><span class=n>Collection</span><span class=o>&lt;?</span> <span class=kd>extends</span> <span class=n>E</span><span class=o>&gt;</span> <span class=n>c</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>map</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;(</span><span class=n>Math</span><span class=o>.</span><span class=na>max</span><span class=o>((</span><span class=kt>int</span><span class=o>)</span> <span class=o>(</span><span class=n>c</span><span class=o>.</span><span class=na>size</span><span class=o>()/</span><span class=mf>.75f</span><span class=o>)</span> <span class=o>+</span> <span class=mi>1</span><span class=o>,</span> <span class=mi>16</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>addAll</span><span class=o>(</span><span class=n>c</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=nf>HashSet</span><span class=o>(</span><span class=kt>int</span> <span class=n>initialCapacity</span><span class=o>,</span> <span class=kt>float</span> <span class=n>loadFactor</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>map</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;(</span><span class=n>initialCapacity</span><span class=o>,</span> <span class=n>loadFactor</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=nf>HashSet</span><span class=o>(</span><span class=kt>int</span> <span class=n>initialCapacity</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>map</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashMap</span><span class=o>&lt;&gt;(</span><span class=n>initialCapacity</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ°HashSetåº•å±‚å°±æ˜¯ä¸€ä¸ªHashMapï¼Œé‚£è¿™é‡Œå°±ä¸å¤šå…³äºHashMapçš„ä¸œè¥¿ï¼Œä¸»è¦çœ‹ä¸‹å¯¹HashSetçš„æµ‹è¯•:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>test6</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=n>Set</span><span class=o>&lt;</span><span class=n>Employee</span><span class=o>&gt;</span> <span class=n>set</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashSet</span><span class=o>&lt;&gt;(</span><span class=mi>10</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>set</span><span class=o>.</span><span class=na>size</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=o>;</span> <span class=n>i</span><span class=o>++){</span>
</span></span><span class=line><span class=cl>        <span class=n>set</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Employee</span><span class=o>(</span><span class=s>&#34;test&#34;</span><span class=o>,(</span><span class=n>i</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=o>)</span> <span class=o>?</span> <span class=mi>2</span> <span class=o>:</span> <span class=mi>1</span><span class=o>,(</span><span class=n>i</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=o>)</span> <span class=o>?</span> <span class=mi>2</span> <span class=o>:</span> <span class=mi>1</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>Employee</span><span class=o>&gt;</span> <span class=n>iterator</span> <span class=o>=</span> <span class=n>set</span><span class=o>.</span><span class=na>iterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>hasNext</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>        <span class=n>Employee</span> <span class=n>employee</span> <span class=o>=</span> <span class=n>iterator</span><span class=o>.</span><span class=na>next</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>employee</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æ‰“å°ç»“æœï¼š
</span></span></span><span class=line><span class=cl><span class=cm>     * 0
</span></span></span><span class=line><span class=cl><span class=cm>     * run hashCode ... 
</span></span></span><span class=line><span class=cl><span class=cm>     * run hashCode ... 
</span></span></span><span class=line><span class=cl><span class=cm>     * run hashCode ... 
</span></span></span><span class=line><span class=cl><span class=cm>     * run equals()....
</span></span></span><span class=line><span class=cl><span class=cm>     * run hashCode ... 
</span></span></span><span class=line><span class=cl><span class=cm>     * run equals()....
</span></span></span><span class=line><span class=cl><span class=cm>     * run hashCode ... 
</span></span></span><span class=line><span class=cl><span class=cm>     * run equals()....
</span></span></span><span class=line><span class=cl><span class=cm>     * Employee{name=&#39;test&#39;, age=2, salary=2}
</span></span></span><span class=line><span class=cl><span class=cm>     * Employee{name=&#39;test&#39;, age=1, salary=1}
</span></span></span><span class=line><span class=cl><span class=cm>     * 2
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>	<span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * Employeeçš„equals()é‡å†™æ—¶åŠ äº†ä¸€å¥:
</span></span></span><span class=line><span class=cl><span class=cm>     * System.out.println(&#34;run equals()....&#34;);
</span></span></span><span class=line><span class=cl><span class=cm>     * Employeeçš„hashCode()é‡å†™æ—¶åŠ äº†ä¸€å¥:
</span></span></span><span class=line><span class=cl><span class=cm>     * System.out.println(&#34;run hashCode ... &#34;);
</span></span></span><span class=line><span class=cl><span class=cm>     * ä¸Šé¢å¯¹Listè¿›è¡Œæµ‹è¯•çš„æ—¶å€™ä¹ŸåŠ äº†ã€‚ã€‚ã€‚
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>ä»ä¸Šé¢çš„æ‰“å°ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œåˆå§‹åŒ–åsetçš„sizeä¸º0ï¼Œåé¢æ¯æ¬¡æ·»åŠ ä¸€ä¸ªå…ƒç´ sizeéƒ½ä¼šå¢é•¿1ï¼Œè€Œå†æ·»åŠ è¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°hashCodeç›¸åŒæƒ…å†µä¸‹ä¼šè¿›è¡Œequalsåˆ¤æ–­ï¼Œå…ƒç´ å†…çš„å€¼ç›¸åŒä¼šå¯¼è‡´æ·»åŠ å¤±è´¥ã€‚æ‰€ä»¥æœ€ç»ˆsetä¸­åªæœ‰2ä¸ªå…ƒç´ ã€‚</p><h4 id=linkedhashset>LinkedHashSet<a hidden class=anchor aria-hidden=true href=#linkedhashset>#</a></h4><p>LinkedHashSetçš„åº•å±‚åˆå§‹åŒ–ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>LinkedHashSet</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>extends</span> <span class=n>HashSet</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>implements</span> <span class=n>Set</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;,</span> <span class=n>Cloneable</span><span class=o>,</span> <span class=n>java</span><span class=o>.</span><span class=na>io</span><span class=o>.</span><span class=na>Serializable</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=nf>LinkedHashSet</span><span class=o>(</span><span class=kt>int</span> <span class=n>initialCapacity</span><span class=o>,</span> <span class=kt>float</span> <span class=n>loadFactor</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	    <span class=kd>super</span><span class=o>(</span><span class=n>initialCapacity</span><span class=o>,</span> <span class=n>loadFactor</span><span class=o>,</span> <span class=kc>true</span><span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=nf>LinkedHashSet</span><span class=o>(</span><span class=kt>int</span> <span class=n>initialCapacity</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	    <span class=kd>super</span><span class=o>(</span><span class=n>initialCapacity</span><span class=o>,</span> <span class=mf>.75f</span><span class=o>,</span> <span class=kc>true</span><span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=nf>LinkedHashSet</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	    <span class=kd>super</span><span class=o>(</span><span class=mi>16</span><span class=o>,</span> <span class=mf>.75f</span><span class=o>,</span> <span class=kc>true</span><span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl>	<span class=kd>public</span> <span class=nf>LinkedHashSet</span><span class=o>(</span><span class=n>Collection</span><span class=o>&lt;?</span> <span class=kd>extends</span> <span class=n>E</span><span class=o>&gt;</span> <span class=n>c</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>	    <span class=kd>super</span><span class=o>(</span><span class=n>Math</span><span class=o>.</span><span class=na>max</span><span class=o>(</span><span class=mi>2</span><span class=o>*</span><span class=n>c</span><span class=o>.</span><span class=na>size</span><span class=o>(),</span> <span class=mi>11</span><span class=o>),</span> <span class=mf>.75f</span><span class=o>,</span> <span class=kc>true</span><span class=o>);</span>
</span></span><span class=line><span class=cl>	    <span class=n>addAll</span><span class=o>(</span><span class=n>c</span><span class=o>);</span>
</span></span><span class=line><span class=cl>	<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>çˆ¶ç±»HashSetä¸‹çš„å¸¦æœ‰ä¸‰ä¸ªå‚æ•°çš„æ„é€ å™¨ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>HashSet</span><span class=o>(</span><span class=kt>int</span> <span class=n>initialCapacity</span><span class=o>,</span> <span class=kt>float</span> <span class=n>loadFactor</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>dummy</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>map</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedHashMap</span><span class=o>&lt;&gt;(</span><span class=n>initialCapacity</span><span class=o>,</span> <span class=n>loadFactor</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>æ˜¾ç„¶ï¼ŒLinkedHashSetåº•å±‚æ˜¯ä½¿ç”¨<code>LinkedHashMap</code>å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¸¦æœ‰<code>LinkedHashMap</code>çš„ç‰¹ç‚¹â€”â€”å¯ä»¥æ‰¾åˆ°æ·»åŠ è¿‡ç¨‹ä¸­çš„å‰åå…ƒç´ ã€‚å…·ä½“å¯ä»¥çœ‹<a href=#LinkedHashMap>LinkedHashMap</a></p><h4 id=treeset>TreeSet<a hidden class=anchor aria-hidden=true href=#treeset>#</a></h4><p>TreeSetçš„åº•å±‚åˆå§‹åŒ–ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=nf>TreeSet</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>(</span><span class=k>new</span> <span class=n>TreeMap</span><span class=o>&lt;</span><span class=n>E</span><span class=o>,</span><span class=n>Object</span><span class=o>&gt;());</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=nf>TreeSet</span><span class=o>(</span><span class=n>Comparator</span><span class=o>&lt;?</span> <span class=kd>super</span> <span class=n>E</span><span class=o>&gt;</span> <span class=n>comparator</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>(</span><span class=k>new</span> <span class=n>TreeMap</span><span class=o>&lt;&gt;(</span><span class=n>comparator</span><span class=o>));</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=nf>TreeSet</span><span class=o>(</span><span class=n>Collection</span><span class=o>&lt;?</span> <span class=kd>extends</span> <span class=n>E</span><span class=o>&gt;</span> <span class=n>c</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>addAll</span><span class=o>(</span><span class=n>c</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=nf>TreeSet</span><span class=o>(</span><span class=n>SortedSet</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span> <span class=n>s</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>(</span><span class=n>s</span><span class=o>.</span><span class=na>comparator</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>addAll</span><span class=o>(</span><span class=n>s</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>ä½¿ç”¨TreeSetï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>test7</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=n>Set</span><span class=o>&lt;</span><span class=n>Employee</span><span class=o>&gt;</span> <span class=n>set</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeSet</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=o>;</span> <span class=n>i</span><span class=o>++){</span>
</span></span><span class=line><span class=cl>        <span class=n>set</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Employee</span><span class=o>(</span><span class=s>&#34;test&#34;</span><span class=o>,</span><span class=n>i</span><span class=o>,</span><span class=n>i</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>Employee</span><span class=o>&gt;</span> <span class=n>iterator</span> <span class=o>=</span> <span class=n>set</span><span class=o>.</span><span class=na>iterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>hasNext</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>        <span class=n>Employee</span> <span class=n>employee</span> <span class=o>=</span> <span class=n>iterator</span><span class=o>.</span><span class=na>next</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>employee</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æŠ¥é”™:
</span></span></span><span class=line><span class=cl><span class=cm>     * java.lang.ClassCastException: com.chapter12_collection.Employee cannot be cast to java.lang.Comparable
</span></span></span><span class=line><span class=cl><span class=cm>     *
</span></span></span><span class=line><span class=cl><span class=cm>     * 	at java.util.TreeMap.compare(TreeMap.java:1294)
</span></span></span><span class=line><span class=cl><span class=cm>     * 	at java.util.TreeMap.put(TreeMap.java:538)
</span></span></span><span class=line><span class=cl><span class=cm>     * 	at java.util.TreeSet.add(TreeSet.java:255)
</span></span></span><span class=line><span class=cl><span class=cm>     * 	at com.chapter12_collection.CollectionTest.test7(CollectionTest.java:115)
</span></span></span><span class=line><span class=cl><span class=cm>     * 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</span></span></span><span class=line><span class=cl><span class=cm>     * 	...
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>å‘ç°å¿…é¡»å¾—æŠŠEmployeeè½¬æˆComparableï¼Œé‚£ä¹ˆå°±è®©Employeeå®ç°Comparableæ¥å£å‘—ã€‚äºæ˜¯ä¹é‡å†™é‡Œé¢çš„compareToï¼ˆï¼‰æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// å…ˆæŒ‰nameæ’åºï¼Œå†æŒ‰ageæ’åº
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nd>@Override</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>int</span> <span class=nf>compareTo</span><span class=o>(</span><span class=n>Object</span> <span class=n>o</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=o>(</span><span class=n>o</span> <span class=k>instanceof</span> <span class=n>Employee</span><span class=o>){</span>
</span></span><span class=line><span class=cl>        <span class=n>Employee</span> <span class=n>employee</span> <span class=o>=</span> <span class=o>(</span><span class=n>Employee</span><span class=o>)</span> <span class=n>o</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=k>this</span><span class=o>.</span><span class=na>name</span> <span class=o>==</span> <span class=n>employee</span><span class=o>.</span><span class=na>getName</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>Integer</span><span class=o>.</span><span class=na>compare</span><span class=o>(</span><span class=k>this</span><span class=o>.</span><span class=na>age</span><span class=o>,</span> <span class=n>employee</span><span class=o>.</span><span class=na>getAge</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span><span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>this</span><span class=o>.</span><span class=na>name</span><span class=o>.</span><span class=na>compareTo</span><span class=o>(</span><span class=n>employee</span><span class=o>.</span><span class=na>getName</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span><span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=n>RuntimeException</span><span class=o>(</span><span class=s>&#34;è¾“å…¥çš„ç±»å‹ä¸æ˜¯Employee&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>å†æ¥è·‘æµ‹è¯•ä»£ç ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>test7</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=n>Set</span><span class=o>&lt;</span><span class=n>Employee</span><span class=o>&gt;</span> <span class=n>set</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeSet</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>5</span><span class=o>;</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span><span class=o>--){</span>
</span></span><span class=line><span class=cl>        <span class=n>set</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Employee</span><span class=o>(</span><span class=s>&#34;test&#34;</span><span class=o>+</span><span class=n>i</span><span class=o>,</span><span class=n>i</span><span class=o>,</span><span class=n>i</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>Employee</span><span class=o>&gt;</span> <span class=n>iterator</span> <span class=o>=</span> <span class=n>set</span><span class=o>.</span><span class=na>iterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>hasNext</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>        <span class=n>Employee</span> <span class=n>employee</span> <span class=o>=</span> <span class=n>iterator</span><span class=o>.</span><span class=na>next</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>employee</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æ‰“å°ç»“æœï¼š
</span></span></span><span class=line><span class=cl><span class=cm>     * Employee{name=&#39;test1&#39;, age=1, salary=1}
</span></span></span><span class=line><span class=cl><span class=cm>     * Employee{name=&#39;test2&#39;, age=2, salary=2}
</span></span></span><span class=line><span class=cl><span class=cm>     * Employee{name=&#39;test3&#39;, age=3, salary=3}
</span></span></span><span class=line><span class=cl><span class=cm>     * Employee{name=&#39;test4&#39;, age=4, salary=4}
</span></span></span><span class=line><span class=cl><span class=cm>     * Employee{name=&#39;test5&#39;, age=5, salary=5}
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>æ˜¾ç„¶ï¼Œæ­¤æ—¶æ˜¯æŒ‰ç…§nameä»å°åˆ°å¤§æ’åºçš„ï¼Œè€Œæˆ‘ä»¬æ’å…¥çš„æ—¶å€™æ˜¯ä»å¤§åˆ°å°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´TreeSetæ˜¯å¯ä»¥å®ç°Comparableæ¯”è¾ƒå™¨æ’åºçš„ï¼Œå…³äºè‡ªç„¶æ’åºå°±çœ‹ä¸‹ä¸‹é¢è¿™æ®µä»£ç å§ï¼š</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Test</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>test8</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>set</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeSet</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=n>set</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=mi>11</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>set</span><span class=o>.</span><span class=na>add</span><span class=o>(-</span><span class=mi>1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>set</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=mi>33</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>set</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=mi>22</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>set</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=mi>44</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>iterator</span> <span class=o>=</span> <span class=n>set</span><span class=o>.</span><span class=na>iterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>hasNext</span><span class=o>()){</span>
</span></span><span class=line><span class=cl>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>next</span><span class=o>()</span> <span class=o>+</span> <span class=s>&#34; &#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * æ‰“å°ç»“æœï¼š
</span></span></span><span class=line><span class=cl><span class=cm>     * -1 11 22 33 44 
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://luolin1024.github.io/tags/java/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>Java/æ•°æ®ç»“æ„</a></li></ul><nav class=paginav><a class=prev href=https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java-map/><span class=title>Â« Prev</span><br><span>Java Map</span></a>
<a class=next href=https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java-%E5%8F%8D%E5%B0%84/><span class=title>Next Â»</span><br><span>Java-åå°„</span></a></nav><div class=related-posts><h2>ç›¸å…³æ–‡ç« </h2><ul><li>Â· <a href=/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/hashtable/>HashTable</a></li><li>Â· <a href=/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java-list/>Java List</a></li><li>Â· <a href=/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java-map/>Java Map</a></li></ul></div></footer><link rel=stylesheet href=https://unpkg.com/@waline/client@v2/dist/waline.css><div id=waline></div><script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';
    const locale = {
        nick: 'æ˜µç§°',
        nickError: 'è¯·å¡«å†™æ˜µç§°',
        mail: 'é‚®ç®±',
        mailError: 'è¯·å¡«å†™æ­£ç¡®çš„é‚®ä»¶åœ°å€',
        link: 'ç½‘å€',
        optional: 'å¯é€‰',
        placeholder: 'ä»…å¡«å†™æ˜µç§°å³å¯å‘è¡¨å›å¤ã€‚\nå¡«å†™é‚®ç®±å¯æ”¶åˆ°å›å¤æé†’ã€‚\nè¯„è®ºåŒºæ”¯æŒ Markdown è¯­æ³•åŠé¢„è§ˆã€‚\n',
        sofa: 'æ¥å‘è¯„è®ºå§~',
        submit: 'æäº¤',
        like: 'å–œæ¬¢',
        cancelLike: 'å–æ¶ˆå–œæ¬¢',
        reply: 'å›å¤',
        cancelReply: 'å–æ¶ˆå›å¤',
        comment: 'è¯„è®º',
        refresh: 'åˆ·æ–°',
        more: 'åŠ è½½æ›´å¤š...',
        preview: 'é¢„è§ˆ',
        emoji: 'è¡¨æƒ…',
        uploadImage: 'ä¸Šä¼ å›¾ç‰‡',
        seconds: 'ç§’å‰',
        minutes: 'åˆ†é’Ÿå‰',
        hours: 'å°æ—¶å‰',
        days: 'å¤©å‰',
        now: 'åˆšåˆš',
        uploading: 'æ­£åœ¨ä¸Šä¼ ',
        login: 'ç®¡ç†',
        logout: 'é€€å‡º',
        admin: 'åšä¸»',
        sticky: 'ç½®é¡¶',
        word: 'å­—',
        wordHint: 'è¯„è®ºå­—æ•°åº”åœ¨ $0 åˆ° $1 å­—ä¹‹é—´ï¼\nå½“å‰å­—æ•°ï¼š$2',
        anonymous: 'åŒ¿å',
        level0: 'æ½œæ°´',
        level1: 'å†’æ³¡',
        level2: 'åæ§½',
        level3: 'æ´»è·ƒ',
        level4: 'è¯ç—¨',
        level5: 'ä¼ è¯´',
        gif: 'è¡¨æƒ…åŒ…',
        gifSearchPlaceholder: 'æœç´¢è¡¨æƒ…åŒ…',
        profile: 'ä¸ªäººèµ„æ–™',
        approved: 'é€šè¿‡',
        waiting: 'å¾…å®¡æ ¸',
        spam: 'åƒåœ¾',
        unsticky: 'å–æ¶ˆç½®é¡¶',
        oldest: 'æŒ‰å€’åº',
        latest: 'æŒ‰æ­£åº',
        hottest: 'æŒ‰çƒ­åº¦',
        reactionTitle: 'ä½ è®¤ä¸ºè¿™ç¯‡æ–‡ç« æ€ä¹ˆæ ·ï¼Ÿ',
    };
    init({
        
        el: '#waline',
        serverURL: 'https://blogcomments.luolin.online',
        locale,
        emoji: false,     
        search: false,    
        reaction: false,  
        requiredMeta: ['nick'],
        pageSize: 10,
        imageUploader: false,
        copyright: true,
        pageview: true,
        like: false,
    });
</script></article></main><footer class=footer><span>&copy; 2025 <a href=https://luolin1024.github.io>luolin1024</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div>æœ¬ç«™æ€»è®¿é—®é‡ <span id=umami_value_site_pv></span> æ¬¡
æœ¬ç«™æ€»è®¿å®¢æ•° <span id=umami_value_site_uv></span> äºº
å½“å‰åœ¨çº¿è®¿å®¢ <span id=umami_value_active_uv></span> äºº</div><a href="https://icp.gov.moe/?keyword=20248618" target=_blank>èŒICPå¤‡20248618å·</a></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>