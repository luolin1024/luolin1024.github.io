<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git操作手册 | luolin1024</title><meta name=keywords content="Git"><meta name=description content="关于git的一些介绍以及大部分用法，可以参考官方文档,本文只记录一些常用操作和一些比较难的操作。 git fetch和git pull对比 先用一张图来"><meta name=author content="luolin"><link rel=canonical href=https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/%E5%B7%A5%E5%85%B7/git-operation-manual/><script defer src=https://blogcounter.luolin.us.kg/script.js data-website-id=c8850e2c-16aa-465e-aa6f-5392c9397317></script>
<script src=/js/umami-stats.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script>
<link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://luolin1024.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://luolin1024.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://luolin1024.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://luolin1024.github.io/apple-touch-icon.png><link rel=mask-icon href=https://luolin1024.github.io/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><html><head><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><link rel=stylesheet href=https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css><style>body{font-family:lxgw wenkai lite,sans-serif;font-family:lxgw wenkai screen,sans-serif}</style></head></html><meta property="og:title" content="Git操作手册"><meta property="og:description" content="关于git的一些介绍以及大部分用法，可以参考官方文档,本文只记录一些常用操作和一些比较难的操作。 git fetch和git pull对比 先用一张图来"><meta property="og:type" content="article"><meta property="og:url" content="https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/%E5%B7%A5%E5%85%B7/git-operation-manual/"><meta property="article:section" content="blog_prepublish"><meta property="article:published_time" content="2024-02-21T11:30:51+08:00"><meta property="article:modified_time" content="2024-12-02T16:17:52+08:00"><meta property="og:site_name" content="luolin的博客"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git操作手册"><meta name=twitter:description content="关于git的一些介绍以及大部分用法，可以参考官方文档,本文只记录一些常用操作和一些比较难的操作。 git fetch和git pull对比 先用一张图来"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog_prepublishes","item":"https://luolin1024.github.io/blog_prepublish/"},{"@type":"ListItem","position":2,"name":"Git操作手册","item":"https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/%E5%B7%A5%E5%85%B7/git-operation-manual/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git操作手册","name":"Git操作手册","description":"关于git的一些介绍以及大部分用法，可以参考官方文档,本文只记录一些常用操作和一些比较难的操作。 git fetch和git pull对比 先用一张图来","keywords":["Git"],"articleBody":"关于git的一些介绍以及大部分用法，可以参考官方文档,本文只记录一些常用操作和一些比较难的操作。\ngit fetch和git pull对比 先用一张图来理一下git fetch和git pull的概念：\ngit fetch是将远程主机的最新内容拉到本地，用户在检查了以后决定是否合并到工作本机分支中。\ngit fetch origin查找 “origin” 是哪一个服务器,从中抓取本地没有的数据，\ngit pull则是将远程主机的最新内容拉下来后直接合并，即：git pull = git fetch + git merge，这样可能会产生冲突，需要手动解决。\ngit fetch用法\ngit fetch 命令：\ngit fetch \u003c远程主机名\u003e //这个命令将某个远程主机的更新全部取回本地, 并且更新本地数据库，移动 origin/所有分支 指针指向新的、更新后的位置。 git fetch (后面不加参数) // 这个命令与上面的命令相似，远程主机用的默认远程主机 如果只想取回特定分支的更新，可以指定分支名：\ngit fetch \u003c远程主机名\u003e \u003c分支名\u003e //注意之间有空格 最常见的命令如取回origin 主机的master 分支：\ngit fetch origin master 取回更新后，会返回一个FETCH_HEAD ，指的是某个branch在服务器上的最新状态，我们可以在本地通过它查看刚取回的更新信息：\ngit log -p FETCH_HEAD git pull 用法\n前面提到，git pull 的过程可以理解为：\ngit fetch origin master //从远程主机的master分支拉取最新内容 git merge FETCH_HEAD //将拉取下来的最新内容合并到当前所在的分支中 即将远程主机的某个分支的更新取回，并与本地指定的分支合并，完整格式可表示为：\ngit pull \u003c远程主机名\u003e \u003c远程分支名\u003e:\u003c本地分支名\u003e 如果远程分支是与当前分支合并，则冒号后面的部分可以省略：\ngit pull origin dev git push git push的一般形式为 git push \u003c远程主机名\u003e \u003c本地分支名\u003e \u003c远程分支名\u003e ，例如 git push origin master，即是将本地的master分支推送到远程主机origin上的对应master分支， origin 是远程主机名,第一个master是本地分支名，第二个master是远程分支名。\n如果远程分支被省略，如下则表示将本地分支推送到与之存在追踪关系的远程分支（通常两者同名），如果该远程分支不存在，则会被新建\ngit push origin master 如果省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支，等同于 git push origin --delete master\ngit push origin:master 如果当前分支与远程分支存在追踪关系，则本地分支和远程分支都可以省略，将当前分支推送到origin主机的对应分支\ngit push origin 如果当前分支只有一个远程分支，那么主机名都可以省略，形如 git push，可以使用git branch -r，查看远程的分支名\ngit push git push 的其他命令\ngit push -u origin master 如果当前分支与多个主机存在追踪关系，则可以使用 -u 参数指定一个默认主机，这样后面就可以不加任何参数使用git push，不带任何参数的git push，默认只推送当前分支，这叫做simple方式，还有一种matching方式，会推送所有有对应的远程分支的本地分支， Git 2.0之前默认使用matching，现在改为simple方式,如果想更改设置，可以使用git config命令。git config –global push.default matching OR git config –global push.default simple；可以使用git config -l 查看配置 git push --all origin 当遇到这种情况就是不管是否存在对应的远程分支，将本地的所有分支都推送到远程主机，这时需要 -all 选项 git push --force origin git push的时候需要本地先git pull更新到跟服务器版本一致，如果本地版本库比远程服务器上的低，那么一般会提示你git pull更新，如果一定要提交，那么可以使用这个命令。 git push origin --tags //git push 的时候不会推送分支，如果一定要推送标签的话那么可以使用这个命令 常用分支操作 git 本地分支操作 git branch //查看本地所有分支 git branch -r //查看远程所有分支 git branch -a //查看本地和远程的所有分支 git branch //新建分支 git branch -d //删除本地分支 git branch -d -r //删除远程分支，删除后还需推送到服务器 git push origin: //删除后推送至服务器 git branch -m //重命名本地分支 /** *重命名远程分支： *1、删除远程待修改分支 *2、push本地新分支到远程服务器 */ //git中一些选项解释: -d --delete：删除 -D --delete --force的快捷键 -f --force：强制 -m --move：移动或重命名 -M --move --force的快捷键 -r --remote：远程 -a --all：所有 git check -b \u003c新分支名称\u003e //新建分支并切换到新建分支 git branch -vv // 查看本地处于远程库中哪个 git 操作远程分支 把新建的本地分支push到远程服务器，远程分支与本地分支同名（当然可以随意起名）：git push origin \u003c本地分支名\u003e:\u003c远程分支名\u003e,删除远程已有分支：git push origin --delete dbg_lichen_star\n$ git branch -a * dev master remotes/origin/dev remotes/origin/master 推送到远程： $ git push origin dev:dev2 Total 0 (delta 0), reused 0 (delta 0) remote: remote: Create a pull request for 'dev2' on GitHub by visiting: remote: https://github.com/runooboy/runooboy.github.io/pull/new/dev2 remote: To github.com:runooboy/runooboy.github.io.git * [new branch] dev -\u003e dev2 结果： $ git branch -a * dev master remotes/origin/dev remotes/origin/dev2 remotes/origin/master 删除远程已有分支： $ git push origin --delete dev2 To github.com:runooboy/runooboy.github.io.git - [deleted] dev2 结果： $ git branch -a * dev master remotes/origin/dev remotes/origin/master git 推送个人远程服务器 1. 服务器操作 # root用户操作： adduser git su git 2. 本地操作 ssh-keygen -t rsa cat .ssh/id_rsa.pub 3. 服务器操作 cd .ssh vim authorized_keys # 将本地公钥保存进来 mkdir repository mkdir repository/hello.git cd repository/hello.git git --bare init # 一定要用这个，不然不让本地推送远程 git branch -m master # 设置分支 使用git init,本地推送时将会报错：\nremote: error: refusing to update checked out branch: refs/heads/master remote: error: By default, updating the current branch in a non-bare repository 没有设置分支，将会报错：\nerror: remote unpack failed: unable to create temporary object directory git stash暂存 git stash 保存当前工作进度，会把暂存区和工作区的改动保存起来。执行完这个命令后，在运行git status命令，就会发现当前是一个干净的工作区，没有任何改动。使用git stash save 'message...'可以添加一些注释。\ngit stash list 显示保存进度的列表。也就意味着，git stash命令可以多次执行。\ngit stash pop [–index] [stash_id] git stash pop 恢复最新的进度到工作区。git默认会把工作区和暂存区的改动都恢复到工作区。 git stash pop --index 恢复最新的进度到工作区和暂存区。（尝试将原来暂存区的改动还恢复到暂存区） git stash pop 'stash@{1}'恢复指定的进度到工作区。stash_id是通过git stash list命令得到的通过git stash pop命令恢复进度后，会删除当前进度。 git stash apply [–index] [stash_id] 除了不删除恢复的进度之外，其余和git stash pop 命令一样。\ngit stash drop [stash_id] 删除一个存储的进度。如果不指定stash_id，则默认删除最新的存储进度。\ngit stash clear 删除所有存储的进度。\n注意 git中两个不同分支同时修改了同一处（同一行）内容之后，只要两个分支修改后的内容一致，就不会产生冲突。 参考： 本地git仓库推送到服务器自建的git仓库实现目录文件同步教程_51CTO博客_git推送到远程仓库\n","wordCount":"2668","inLanguage":"en","datePublished":"2024-02-21T11:30:51+08:00","dateModified":"2024-12-02T16:17:52+08:00","author":{"@type":"Person","name":"luolin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/%E5%B7%A5%E5%85%B7/git-operation-manual/"},"publisher":{"@type":"Organization","name":"luolin1024","logo":{"@type":"ImageObject","url":"https://luolin1024.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://luolin1024.github.io accesskey=h title="luolin的博客 (Alt + H)">luolin的博客</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://luolin1024.github.io/posts title=📚文章><span>📚文章</span></a></li><li><a href=https://luolin1024.github.io/archives/ title=⏱时间轴><span>⏱时间轴</span></a></li><li><a href=https://luolin1024.github.io/search/ title="🔍搜索 (Alt + /)" accesskey=/><span>🔍搜索</span></a></li><li><a href=https://luolin1024.github.io/tags title=🔖标签><span>🔖标签</span></a></li><li><a href=https://luolin1024.github.io/about title=🙋🏻‍♂️关于><span>🙋🏻‍♂️关于</span></a></li><li><a href=https://luolin1024.github.io/links title=🤝友链><span>🤝友链</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://luolin1024.github.io>Home</a>&nbsp;»&nbsp;<a href=https://luolin1024.github.io/blog_prepublish/>Blog_prepublishes</a></div><h1 class="post-title entry-hint-parent">Git操作手册</h1><div class=post-meta><span title='2024-02-21 11:30:51 +0800 +0800'>2024-02-21</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;2668 words&nbsp;·&nbsp;luolin
本文总阅读量 <span id=umami_value_page_pv></span> 次
本文总访客量 <span id=umami_value_page_uv></span> 人</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#git-fetch%e5%92%8cgit-pull%e5%af%b9%e6%af%94 aria-label="git fetch和git pull对比">git fetch和git pull对比</a></li><li><a href=#git-push aria-label="git push">git push</a></li><li><a href=#%e5%b8%b8%e7%94%a8%e5%88%86%e6%94%af%e6%93%8d%e4%bd%9c aria-label=常用分支操作>常用分支操作</a><ul><ul><ul><li><a href=#git-%e6%9c%ac%e5%9c%b0%e5%88%86%e6%94%af%e6%93%8d%e4%bd%9c aria-label="git 本地分支操作">git 本地分支操作</a></li><li><a href=#git-%e6%93%8d%e4%bd%9c%e8%bf%9c%e7%a8%8b%e5%88%86%e6%94%af aria-label="git 操作远程分支">git 操作远程分支</a></li></ul></ul><li><a href=#git-%e6%8e%a8%e9%80%81%e4%b8%aa%e4%ba%ba%e8%bf%9c%e7%a8%8b%e6%9c%8d%e5%8a%a1%e5%99%a8 aria-label="git 推送个人远程服务器">git 推送个人远程服务器</a><ul><ul><li><a href=#1-%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%93%8d%e4%bd%9c aria-label="1. 服务器操作">1. 服务器操作</a></li><li><a href=#2-%e6%9c%ac%e5%9c%b0%e6%93%8d%e4%bd%9c aria-label="2. 本地操作">2. 本地操作</a></li><li><a href=#3-%e6%9c%8d%e5%8a%a1%e5%99%a8%e6%93%8d%e4%bd%9c aria-label="3. 服务器操作">3. 服务器操作</a></li></ul></ul></li></ul></li><li><a href=#git-stash%e6%9a%82%e5%ad%98 aria-label="git stash暂存">git stash暂存</a><ul><ul><ul><li><a href=#git-stash aria-label="git stash">git stash</a></li><li><a href=#git-stash-list aria-label="git stash list">git stash list</a></li><li><a href=#git-stash-pop-index-stash_id aria-label="git stash pop [–index] [stash_id]">git stash pop [–index] [stash_id]</a></li><li><a href=#git-stash-apply-index-stash_id aria-label="git stash apply [–index] [stash_id]">git stash apply [–index] [stash_id]</a></li><li><a href=#git-stash-drop-stash_id aria-label="git stash drop [stash_id]">git stash drop [stash_id]</a></li><li><a href=#git-stash-clear aria-label="git stash clear">git stash clear</a></li></ul><li><a href=#%e6%b3%a8%e6%84%8f aria-label=注意>注意</a></li></ul></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>关于git的一些介绍以及大部分用法，可以参考<a href=https://git-scm.com/book/zh/v2>官方文档</a>,本文只记录一些常用操作和一些比较难的操作。</p><h1 id=git-fetch和git-pull对比>git fetch和git pull对比<a hidden class=anchor aria-hidden=true href=#git-fetch和git-pull对比>#</a></h1><p>先用一张图来理一下git fetch和git pull的概念：</p><p><div class=post-img-view><a data-fancybox=gallery href=https://cdn.jsdelivr.net/gh/luolin1024/image@main/img/1595482301577-413f9d99-dd51-4e1f-bb5a-4b8b0ae6714f.jpeg><img src=https://cdn.jsdelivr.net/gh/luolin1024/image@main/img/1595482301577-413f9d99-dd51-4e1f-bb5a-4b8b0ae6714f.jpeg alt></a></div><code>git fetch</code>是将远程主机的最新内容拉到本地，用户在检查了以后决定是否合并到工作本机分支中。</p><p><code>git fetch origin</code>查找 “origin” 是哪一个服务器,从中抓取本地没有的数据，</p><p><code>git pull</code>则是将远程主机的最新内容拉下来后直接合并，即：<code>git pull</code> = <code>git fetch</code> + <code>git merge</code>，这样可能会产生冲突，需要手动解决。</p><p><strong>git fetch用法</strong></p><p>git fetch 命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git fetch &lt;远程主机名&gt; 
</span></span><span class=line><span class=cl>//这个命令将某个远程主机的更新全部取回本地,
</span></span><span class=line><span class=cl>并且更新本地数据库，移动 origin/所有分支 指针指向新的、更新后的位置。
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git fetch <span class=o>(</span>后面不加参数<span class=o>)</span>
</span></span><span class=line><span class=cl>// 这个命令与上面的命令相似，远程主机用的默认远程主机
</span></span></code></pre></div><p>如果只想取回特定分支的更新，可以指定分支名：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git fetch &lt;远程主机名&gt; &lt;分支名&gt; //注意之间有空格
</span></span></code></pre></div><p>最常见的命令如取回origin 主机的master 分支：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git fetch origin master
</span></span></code></pre></div><p>取回更新后，会返回一个FETCH_HEAD ，指的是某个branch在服务器上的最新状态，我们可以在本地通过它查看刚取回的更新信息：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git log -p FETCH_HEAD
</span></span></code></pre></div><p><strong>git pull 用法</strong></p><p>前面提到，git pull 的过程可以理解为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git fetch origin master //从远程主机的master分支拉取最新内容 
</span></span><span class=line><span class=cl>git merge FETCH_HEAD    //将拉取下来的最新内容合并到当前所在的分支中
</span></span></code></pre></div><p>即将远程主机的某个分支的更新取回，并与本地指定的分支合并，完整格式可表示为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;
</span></span></code></pre></div><p>如果远程分支是与当前分支合并，则冒号后面的部分可以省略：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git pull origin dev
</span></span></code></pre></div><h1 id=git-push>git push<a hidden class=anchor aria-hidden=true href=#git-push>#</a></h1><p>git push的一般形式为 <code>git push &lt;远程主机名> &lt;本地分支名> &lt;远程分支名></code> ，例如 git push origin master，即是将本地的master分支推送到远程主机origin上的对应master分支， origin 是远程主机名,第一个master是本地分支名，第二个master是远程分支名。</p><p>如果远程分支被省略，如下则表示将本地分支推送到与之存在追踪关系的远程分支（通常两者同名），如果该远程分支不存在，则会被新建</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git push origin master
</span></span></code></pre></div><p>如果省略本地分支名，则表示删除指定的远程分支，因为这等同于推送一个空的本地分支到远程分支，等同于 <code>git push origin --delete master</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git push origin:master
</span></span></code></pre></div><p>如果当前分支与远程分支存在追踪关系，则本地分支和远程分支都可以省略，将当前分支推送到origin主机的对应分支</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git push origin
</span></span></code></pre></div><p>如果当前分支只有一个远程分支，那么主机名都可以省略，形如 <code>git push</code>，可以使用<code>git branch -r</code>，查看远程的分支名</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git push
</span></span></code></pre></div><p><strong>git push 的其他命令</strong></p><ol><li><code>git push -u origin master</code> 如果当前分支与多个主机存在追踪关系，则可以使用 -u 参数指定一个默认主机，这样后面就可以不加任何参数使用git push，不带任何参数的git push，默认只推送当前分支，这叫做simple方式，还有一种matching方式，会推送所有有对应的远程分支的本地分支， Git 2.0之前默认使用matching，现在改为simple方式,如果想更改设置，可以使用git config命令。git config &ndash;global push.default matching OR git config &ndash;global push.default simple；可以使用git config -l 查看配置</li><li><code>git push --all origin</code> 当遇到这种情况就是不管是否存在对应的远程分支，将本地的所有分支都推送到远程主机，这时需要 -all 选项</li><li><code>git push --force origin</code> git push的时候需要本地先git pull更新到跟服务器版本一致，如果本地版本库比远程服务器上的低，那么一般会提示你git pull更新，如果一定要提交，那么可以使用这个命令。</li><li><code>git push origin --tags</code> //git push 的时候不会推送分支，如果一定要推送标签的话那么可以使用这个命令</li></ol><h1 id=常用分支操作>常用分支操作<a hidden class=anchor aria-hidden=true href=#常用分支操作>#</a></h1><h4 id=git-本地分支操作>git 本地分支操作<a hidden class=anchor aria-hidden=true href=#git-本地分支操作>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git branch //查看本地所有分支 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git branch -r //查看远程所有分支
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git branch -a //查看本地和远程的所有分支
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git branch &lt;branchname&gt; //新建分支
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git branch -d &lt;branchname&gt; //删除本地分支
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git branch -d -r &lt;branchname&gt; //删除远程分支，删除后还需推送到服务器
</span></span><span class=line><span class=cl>git push origin:&lt;branchname&gt;  //删除后推送至服务器
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git branch -m &lt;oldbranch&gt; &lt;newbranch&gt; //重命名本地分支
</span></span><span class=line><span class=cl>/**
</span></span><span class=line><span class=cl>*重命名远程分支：
</span></span><span class=line><span class=cl>*1、删除远程待修改分支
</span></span><span class=line><span class=cl>*2、push本地新分支到远程服务器
</span></span><span class=line><span class=cl>*/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//git中一些选项解释:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-d
</span></span><span class=line><span class=cl>--delete：删除
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-D
</span></span><span class=line><span class=cl>--delete --force的快捷键
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-f
</span></span><span class=line><span class=cl>--force：强制
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-m
</span></span><span class=line><span class=cl>--move：移动或重命名
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-M
</span></span><span class=line><span class=cl>--move --force的快捷键
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-r
</span></span><span class=line><span class=cl>--remote：远程
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>-a
</span></span><span class=line><span class=cl>--all：所有
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git check -b &lt;新分支名称&gt; //新建分支并切换到新建分支
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git branch -vv // 查看本地处于远程库中哪个
</span></span></code></pre></div><h4 id=git-操作远程分支>git 操作远程分支<a hidden class=anchor aria-hidden=true href=#git-操作远程分支>#</a></h4><p>把新建的本地分支push到远程服务器，远程分支与本地分支同名（当然可以随意起名）：<code>git push origin &lt;本地分支名>:&lt;远程分支名></code>,删除远程已有分支：<code>git push origin --delete dbg_lichen_star</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git branch -a
</span></span><span class=line><span class=cl>* dev
</span></span><span class=line><span class=cl>  master
</span></span><span class=line><span class=cl>  remotes/origin/dev
</span></span><span class=line><span class=cl>  remotes/origin/master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>推送到远程：
</span></span><span class=line><span class=cl>$ git push origin dev:dev2
</span></span><span class=line><span class=cl>Total <span class=m>0</span> <span class=o>(</span>delta 0<span class=o>)</span>, reused <span class=m>0</span> <span class=o>(</span>delta 0<span class=o>)</span>
</span></span><span class=line><span class=cl>remote:
</span></span><span class=line><span class=cl>remote: Create a pull request <span class=k>for</span> <span class=s1>&#39;dev2&#39;</span> on GitHub by visiting:
</span></span><span class=line><span class=cl>remote:      https://github.com/runooboy/runooboy.github.io/pull/new/dev2
</span></span><span class=line><span class=cl>remote:
</span></span><span class=line><span class=cl>To github.com:runooboy/runooboy.github.io.git
</span></span><span class=line><span class=cl> * <span class=o>[</span>new branch<span class=o>]</span>      dev -&gt; dev2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>结果：
</span></span><span class=line><span class=cl>$ git branch -a
</span></span><span class=line><span class=cl>* dev
</span></span><span class=line><span class=cl>  master
</span></span><span class=line><span class=cl>  remotes/origin/dev
</span></span><span class=line><span class=cl>  remotes/origin/dev2
</span></span><span class=line><span class=cl>  remotes/origin/master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>删除远程已有分支：
</span></span><span class=line><span class=cl>$ git push origin --delete dev2
</span></span><span class=line><span class=cl>To github.com:runooboy/runooboy.github.io.git
</span></span><span class=line><span class=cl> - <span class=o>[</span>deleted<span class=o>]</span>         dev2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>结果：
</span></span><span class=line><span class=cl>$ git branch -a
</span></span><span class=line><span class=cl>* dev
</span></span><span class=line><span class=cl>  master
</span></span><span class=line><span class=cl>  remotes/origin/dev
</span></span><span class=line><span class=cl>  remotes/origin/master
</span></span></code></pre></div><h2 id=git-推送个人远程服务器>git 推送个人远程服务器<a hidden class=anchor aria-hidden=true href=#git-推送个人远程服务器>#</a></h2><h4 id=1-服务器操作>1. 服务器操作<a hidden class=anchor aria-hidden=true href=#1-服务器操作>#</a></h4><pre tabindex=0><code># root用户操作：
adduser git
su git
</code></pre><h4 id=2-本地操作>2. 本地操作<a hidden class=anchor aria-hidden=true href=#2-本地操作>#</a></h4><pre tabindex=0><code>ssh-keygen -t rsa
cat .ssh/id_rsa.pub
</code></pre><h4 id=3-服务器操作>3. 服务器操作<a hidden class=anchor aria-hidden=true href=#3-服务器操作>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> .ssh
</span></span><span class=line><span class=cl>vim authorized_keys <span class=c1># 将本地公钥保存进来</span>
</span></span><span class=line><span class=cl>mkdir repository
</span></span><span class=line><span class=cl>mkdir repository/hello.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> repository/hello.git
</span></span><span class=line><span class=cl>git --bare init <span class=c1># 一定要用这个，不然不让本地推送远程</span>
</span></span><span class=line><span class=cl>git branch -m master <span class=c1># 设置分支</span>
</span></span></code></pre></div><p>使用<code>git init</code>,本地推送时将会报错：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>remote: error: refusing to update checked out branch: refs/heads/master
</span></span><span class=line><span class=cl>remote: error: By default, updating the current branch in a non-bare repository
</span></span></code></pre></div><p>没有设置分支，将会报错：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>error: remote unpack failed: unable to create temporary object directory
</span></span></code></pre></div><h1 id=git-stash暂存>git stash暂存<a hidden class=anchor aria-hidden=true href=#git-stash暂存>#</a></h1><h4 id=git-stash>git stash<a hidden class=anchor aria-hidden=true href=#git-stash>#</a></h4><p>保存当前工作进度，会把暂存区和工作区的改动保存起来。执行完这个命令后，在运行<code>git status</code>命令，就会发现当前是一个干净的工作区，没有任何改动。使用<code>git stash save 'message...'</code>可以添加一些注释。</p><h4 id=git-stash-list>git stash list<a hidden class=anchor aria-hidden=true href=#git-stash-list>#</a></h4><p>显示保存进度的列表。也就意味着，<code>git stash</code>命令可以多次执行。</p><h4 id=git-stash-pop-index-stash_id>git stash pop [–index] [stash_id]<a hidden class=anchor aria-hidden=true href=#git-stash-pop-index-stash_id>#</a></h4><ul><li><code>git stash pop</code> 恢复最新的进度到工作区。git默认会把工作区和暂存区的改动都恢复到工作区。</li><li><code>git stash pop --index</code> 恢复最新的进度到工作区和暂存区。（尝试将原来暂存区的改动还恢复到暂存区）</li><li><code>git stash pop 'stash@{1}'</code>恢复指定的进度到工作区。stash_id是通过<code>git stash list</code>命令得到的通过<code>git stash pop</code>命令恢复进度后，会删除当前进度。</li></ul><h4 id=git-stash-apply-index-stash_id>git stash apply [–index] [stash_id]<a hidden class=anchor aria-hidden=true href=#git-stash-apply-index-stash_id>#</a></h4><p>除了不删除恢复的进度之外，其余和<code>git stash pop</code> 命令一样。</p><h4 id=git-stash-drop-stash_id>git stash drop [stash_id]<a hidden class=anchor aria-hidden=true href=#git-stash-drop-stash_id>#</a></h4><p>删除一个存储的进度。如果不指定stash_id，则默认删除最新的存储进度。</p><h4 id=git-stash-clear>git stash clear<a hidden class=anchor aria-hidden=true href=#git-stash-clear>#</a></h4><p>删除所有存储的进度。</p><h3 id=注意>注意<a hidden class=anchor aria-hidden=true href=#注意>#</a></h3><ol><li>git中两个不同分支同时修改了同一处（同一行）内容之后，只要两个分支修改后的内容一致，就不会产生冲突。</li></ol><p>参考：
<a href=https://blog.51cto.com/u_15061934/3443406>本地git仓库推送到服务器自建的git仓库实现目录文件同步教程_51CTO博客_git推送到远程仓库</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://luolin1024.github.io/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/>效率工具</a></li><li><a href=https://luolin1024.github.io/tags/git/>Git</a></li></ul><nav class=paginav><a class=prev href=https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/spring/feign%E8%B0%83%E7%94%A8%E6%8E%A5%E5%8F%A3%E6%8A%A5%E9%94%99%E6%83%85%E5%86%B5%E5%88%86%E6%9E%90/><span class=title>« Prev</span><br><span>Feign调用接口报错情况分析</span></a>
<a class=next href=https://luolin1024.github.io/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/java/java%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%BB%93%E5%90%88threadlocal%E7%9A%84%E7%94%A8%E6%B3%95%E5%AE%9E%E4%BE%8B/><span class=title>Next »</span><br><span>Java线程池结合ThreadLocal的用法实例</span></a></nav><div class=related-posts><h2>相关文章</h2><ul><li>· <a href=/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/%E5%B7%A5%E5%85%B7/excel-use/>Excel使用</a></li><li>· <a href=/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/%E5%B7%A5%E5%85%B7/windows-sofrware/>win10软件使用</a></li><li>· <a href=/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/%E5%B7%A5%E5%85%B7/the-sparrow-migrates-to-obsidian/>语雀迁移至Obsidian</a></li><li>· <a href=/blog_prepublish/%E6%8A%80%E6%9C%AF%E6%8F%90%E5%8D%87/%E5%B7%A5%E5%85%B7/%E9%AB%98%E6%95%88%E7%8E%87idea/>高效率Idea</a></li></ul></div></footer><link rel=stylesheet href=https://unpkg.com/@waline/client@v2/dist/waline.css><div id=waline></div><script type=module>
    import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';
    const locale = {
        nick: '昵称',
        nickError: '请填写昵称',
        mail: '邮箱',
        mailError: '请填写正确的邮件地址',
        link: '网址',
        optional: '可选',
        placeholder: '仅填写昵称即可发表回复。\n填写邮箱可收到回复提醒。\n评论区支持 Markdown 语法及预览。\n',
        sofa: '来发评论吧~',
        submit: '提交',
        like: '喜欢',
        cancelLike: '取消喜欢',
        reply: '回复',
        cancelReply: '取消回复',
        comment: '评论',
        refresh: '刷新',
        more: '加载更多...',
        preview: '预览',
        emoji: '表情',
        uploadImage: '上传图片',
        seconds: '秒前',
        minutes: '分钟前',
        hours: '小时前',
        days: '天前',
        now: '刚刚',
        uploading: '正在上传',
        login: '管理',
        logout: '退出',
        admin: '博主',
        sticky: '置顶',
        word: '字',
        wordHint: '评论字数应在 $0 到 $1 字之间！\n当前字数：$2',
        anonymous: '匿名',
        level0: '潜水',
        level1: '冒泡',
        level2: '吐槽',
        level3: '活跃',
        level4: '话痨',
        level5: '传说',
        gif: '表情包',
        gifSearchPlaceholder: '搜索表情包',
        profile: '个人资料',
        approved: '通过',
        waiting: '待审核',
        spam: '垃圾',
        unsticky: '取消置顶',
        oldest: '按倒序',
        latest: '按正序',
        hottest: '按热度',
        reactionTitle: '你认为这篇文章怎么样？',
    };
    init({
        
        el: '#waline',
        serverURL: 'https://blogcomments.luolin.online',
        locale,
        emoji: false,     
        search: false,    
        reaction: false,  
        requiredMeta: ['nick'],
        pageSize: 10,
        imageUploader: false,
        copyright: true,
        pageview: true,
        like: false,
    });
</script></article></main><footer class=footer><span>&copy; 2025 <a href=https://luolin1024.github.io>luolin1024</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div>本站总访问量 <span id=umami_value_site_pv></span> 次
本站总访客数 <span id=umami_value_site_uv></span> 人
当前在线访客 <span id=umami_value_active_uv></span> 人</div><a href="https://icp.gov.moe/?keyword=20248618" target=_blank>萌ICP备20248618号</a></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>